"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[69083],{717246:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselSliders_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"CarouselEllipsis_pin"}],type:"Pin",abstractKey:null};i.hash="4b0c4a7a095db0d3cc7f22f3f6c85086",e.exports=i},937101:e=>{var i,a,l=(a=[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardDetails_pin",selections:[i,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PriceLego_pin"}],type:"Pin",abstractKey:null});l.hash="e127c8f5f9fafd31c5dce4a9a7f66089",e.exports=l},984670:e=>{var i,a,l,n,t,r,o,s={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"invite_code"}],kind:"Fragment",metadata:null,name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:a=[{kind:"Variable",name:"inviteCode",variableName:"invite_code"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[n={alias:"first_name",args:null,kind:"ScalarField",name:"firstName",storageKey:null},t={alias:"is_default_image",args:null,kind:"ScalarField",name:"isDefaultImage",storageKey:null},r={alias:"image_medium_url",args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[n,t,r,o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},o],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"6ecc0f5ef5b300806765351890d4c30338f4cba0f2ed6262aebb971f8d13cedd",metadata:{},name:"PinCardSharedHeaderQuery",operationKind:"query",text:null}};s.hash="6113bb3593481961950c5053449014f3",e.exports=s,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let i=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[i]=e}}}(s)},114565:e=>{var i,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardVisual_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:"imagesSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"CarouselSliders_pin"}],type:"Pin",abstractKey:null};a.hash="1713aeb6ddf2bc119a4b85d38d574819",e.exports=a},813283:e=>{var i,a,l,n,t,r,o,s,d,u,c,p,m,g,_,h,y,v,x=(i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},d=[r={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],g={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},_=[a,u={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],{argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"PinRep_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[i],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},r,{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},i,s],storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[a,u,c,p,{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},m],storageKey:null}],storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:_,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},u,c,p,m],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:_,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t,h={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[y={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[y,l,v={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[y,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[l,v],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[a,l,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:_,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:_,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[a,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},o,s,n],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[l,n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},g],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextualMenu_pin"},{condition:"skipUnauthFragment",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"UnauthProductAttribution_pin"},{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"}]},{args:null,kind:"FragmentSpread",name:"SeoPageMetadataText_pin"},{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"},{args:null,kind:"FragmentSpread",name:"PinCardDetails_pin"},{args:null,kind:"FragmentSpread",name:"PinCardVisual_pin"}],type:"Pin",abstractKey:null});x.hash="901d9a49d37c37653b2b8d3d76e3c86f",e.exports=x},809571:e=>{var i,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PriceLego_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i={alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="4a2543bd99e1b908c6c94274a303fcbc",e.exports=a},91849:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeoPageMetadataText_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null};i.hash="8f9d12b0eee9d408e23c20c11af28777",e.exports=i},156577:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthProductAttribution_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null};i.hash="2fb133623620997264f81544f7f43636",e.exports=i},459151:(e,i,a)=>{a.d(i,{Z:()=>t});var l=a(883119),n=a(785893);function t({currentPrice:e,onlyShowCurrentPrice:i,originalPrice:a,textSize:t}){let r=t||"200";return(0,n.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[e&&(0,n.jsx)(l.xv,{color:"default",size:r,weight:"bold",children:e}),a&&a!==e&&!i&&(0,n.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,n.jsx)(l.xv,{color:"subtle",size:r,weight:"bold",children:a})})]})}},903095:(e,i,a)=>{a.d(i,{Mi:()=>n,lO:()=>t});var l=a(425288);let{Provider:n,useMaybeHook:t}=(0,l.Z)("pageContext")},857079:(e,i,a)=>{a.d(i,{Z:()=>t});var l=a(883119),n=a(785893);function t({accessibilityLabel:e}){return(0,n.jsx)(l.kC,{alignItems:"center",justifyContent:"center",children:(0,n.jsx)(l.$j,{accessibilityLabel:e,show:!0})})}},296011:(e,i,a)=>{a.d(i,{Z:()=>s,t:()=>d});var l=a(667294),n=a(167912),t=a(214494);function r(e,i,a){var l;return(i="symbol"==typeof(l=function(e,i){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,i||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?l:String(l))in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a,e}let o={};class s extends l.Component{constructor(...e){super(...e),r(this,"state",{invite:o[this.props.invite_code]||null,loaded:this.props.invite_code in o})}componentDidMount(){let{invite_code:e}=this.props;t.Z.create("InviteCodeMetadataResource",{invite_code:e}).callGet().then(i=>{if(i&&i.resource_response){let a=i.resource_response.data;o[e]=a,this.setState({invite:a,loaded:!0})}}).catch(()=>{this.setState({invite:null,loaded:!0})})}render(){let{invite:e,loaded:i}=this.state;return i?this.props.children(e):null}}class d extends l.Component{constructor(...e){super(...e),r(this,"state",{invite:o[this.props.invite_code]||null,loaded:this.props.invite_code in o})}componentDidMount(){let{invite_code:e,relayEnvironment:i,inviteQuery:a}=this.props;(0,n.fetchQuery)(i,a,{invite_code:e}).subscribe({next:e=>{var i;if(null!==(i=e.v3GetInviteCodeQuery)&&void 0!==i&&i.data){let i=e.v3GetInviteCodeQuery;this.setState({invite:i,loaded:!0})}},error:()=>{this.setState({invite:null,loaded:!0})}})}render(){let{invite:e,loaded:i}=this.state;return i?this.props.children(e):null}}},477802:(e,i,a)=>{a.d(i,{Qy:()=>d,Wu:()=>c,ZP:()=>u});var l=a(616550),n=a(883119),t=a(780280),r=a(826067),o=a(19121),s=a(785893);let d=()=>{let e=(0,o.Z)(),{isInternalIP:i}=(0,t.B)(),a=(0,l.useLocation)();return(i||e.isAuth&&e.isEmployee)&&Object.keys((0,r.mB)(a.search)).some(e=>e.startsWith("deb_"))};function u({data:e}){return(0,s.jsx)(n.xu,{overflow:"auto",dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",children:(0,s.jsx)("pre",{children:JSON.stringify(e,null,2).replace(/\\n/g,"\n")})})}let c=e=>(0,s.jsx)(n.xu,{width:236,dangerouslySetInlineStyle:{__style:{marginTop:10}},children:(0,s.jsx)(u,{...e})})},369083:(e,i,a)=>{a.r(i),a.d(i,{default:()=>iq,pinRepPaddingInBoint:()=>iL});var l,n,t,r,o,s,d,u=a(667294),c=a(702664),p=a(167912),m=a(616550),g=a(883119),_=a(337815),h=a(112690),y=a(81226),v=a(780679),x=a(319915),f=a(378518),k=a(681669),b=a(898781),S=a(349700),P=a(926275),w=a(680046),j=a(248975),I=a(958007),F=a(992750),T=a(773285),C=a(813401),K=a(923297),D=a(780280),A=a(947599),L=a(350576),z=a(867820),R=a(52022),E=a(477802),M=a(50286),Z=a(829407),N=a(807609),U=a(763839),B=a(350948),O=a(57791),q=a(861411),V=a(886076),H=a(830157),W=a(62409),Y=a(772486),$=a(59729),G=a(885149),Q=a(987765),J=a(356997),X=a(53987),ee=a(63552),ei=a(130460),ea=a(459151),el=a(807592),en=a(785893);let et=({data:{pinProduct:{maxPrice:e,minPrice:i,standardPrice:a,price:l},domain:n}})=>(0,en.jsxs)(u.Fragment,{children:[n&&(0,en.jsx)(g.xv,{color:"default",size:"100",children:n}),(0,en.jsx)(g.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:(0,en.jsx)(ea.Z,{textSize:"100",currentPrice:(0,el.Z)({maxPrice:e,minPrice:i,price:l}),originalPrice:a})})]}),er=void 0!==l?l:l=a(809571);function eo({pinKey:e}){var i,a,l;let{data:n}=(0,k.sr)(er,e,{type:"pin",useLegacyAdapter:e=>({linkDomain:e.link_domain&&{__typename:"Domain"},richMetadata:e.rich_metadata&&{recipe:e.rich_metadata.recipe&&{fromAggregatedData:e.rich_metadata.recipe.from_aggregated_data},products:e.rich_metadata.products&&e.rich_metadata.products.map(e=>({name:e.name,offerSummary:e.offer_summary&&{maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}}))},richSummary:e.rich_summary&&{siteName:e.rich_summary.site_name,products:e.rich_summary.products&&e.rich_summary.products.map(e=>({name:e.name,offerSummary:e.offer_summary&&{maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}}))}})});if(!n)return null;let t=(0,W.kb)({hasLinkDomain:!!n.linkDomain,richMetadata:n.richMetadata&&{recipe:n.richMetadata.recipe&&{fromAggregatedData:n.richMetadata.recipe.fromAggregatedData},products:(null!==(i=n.richMetadata.products)&&void 0!==i?i:[]).map(e=>({name:e.name,offerSummary:e.offerSummary}))},richSummary:n.richSummary&&{products:(null!==(a=n.richSummary.products)&&void 0!==a?a:[]).map(e=>({name:e.name,offerSummary:e.offerSummary}))}});return t&&t.price?(0,en.jsx)(et,{data:{pinProduct:t,domain:null===(l=n.richSummary)||void 0===l?void 0:l.siteName}}):null}var es=a(914142),ed=a(865673);let eu=void 0!==n?n:n=a(937101),ec=(0,u.lazy)(()=>a.e(14952).then(a.bind(a,494950))),ep=({title:e})=>{let i=(0,M.HG)(),a=(0,R.Z)();return(0,en.jsx)(g.xu,{"data-test-id":"related-pins-title",children:(0,en.jsx)(g.iP,{onTap:()=>{a({action:"click",item:"related-pins-title"})},children:(0,en.jsx)(Q.Z,{size:i?"300":"100",weight:"bold",lineClamp:2,children:e})})})},em=({credits:e,data:i,hasAffiliatedProducts:a,hidePinMetadata:l,isPromotedPin:n,isSponsoredPin:t,logCreditsClick:r,marginTop:o,pinDescription:s,pinGraphqlRef:d,pinId:c,pinnedToBoardId:p,pinReactionCounts:_,recipeReview:h,shouldShowReactions:y,showPriceIndicatorInPinCardDetails:v,title:f,type:k})=>{var S,P,w,j,I,F,T,C,K;let L=(0,b.ZP)(),E=(0,m.useLocation)(),Z=(0,R.Z)(),{isAuthenticated:N}=(0,D.B)(),U=(0,M.HG)(),B=(0,m.useHistory)(),O=f||s||"oneTap"===k,{pinner:q}=i,V=(0,ei.gC)()(p||String(null===(S=i.board)||void 0===S?void 0:S.entityId)),H=n&&(null===(P=i.promoter)||void 0===P?void 0:P.entityId)===(null===(w=i.nativeCreator)||void 0===w?void 0:w.entityId),W=X.Q0?2:o||(O&&!l?1:0);return(0,en.jsxs)(g.xu,{flex:"grow",children:[(0,en.jsx)(g.xu,{display:"flex",marginTop:l?0:o||1,children:(0,en.jsxs)(g.xu,{flex:"grow",children:[(t||a)&&!H&&(0,en.jsx)(g.xu,{marginBottom:1,children:(0,en.jsx)(g.xu,{flex:"grow",overflow:"hidden",children:(0,en.jsx)(es.Z,{hasAffiliatedProducts:a,isPromoted:n,sponsorName:i.sponsorship?(0,en.jsx)(g.xv,{inline:!0,size:"100",weight:"bold",children:null==e?void 0:e.subtitle}):void 0,sponsorshipStatus:null===(j=i.sponsorship)||void 0===j?void 0:j.status})})}),f&&(0,en.jsx)(g.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:!l&&(0,en.jsx)(ep,{title:f})}),U&&!N&&s&&!(0,X.$Y)(E)&&!(0,X.E0)(E)&&(0,en.jsx)(g.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,en.jsx)(g.iP,{onTap:()=>{Z({action:"click",item:"related-pins-description"})},children:(0,en.jsx)(g.xv,{size:"100",inline:!0,children:s})})}),v&&(0,en.jsx)(eo,{pinKey:d?{type:"graphqlRef",data:d}:{type:"deprecated",data:c}}),h]})}),y&&_&&Object.keys(_).length>0&&(0,en.jsx)(g.xu,{height:18,display:void 0,justifyContent:"center",children:(0,en.jsx)(x.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,en.jsx)(A.Z,{children:(0,en.jsx)(ec,{pinReactionCounts:_})})})}),!v&&e?(0,en.jsx)(ee.Z,{onTouch:i=>{i.stopPropagation(),i.preventDefault(),e.link&&B.push(e.link),r()},pressState:"none",children:(0,en.jsx)(g.xu,{children:(!l||t||H)&&(0,en.jsxs)(g.xu,{display:"flex",marginTop:W,marginBottom:l?2:0,position:"relative",direction:"row",children:[(0,en.jsx)(g.xu,{flex:"none",display:void 0,justifyContent:"center","data-test-id":"related-pins-avatar-image",children:(0,en.jsx)(g.iP,{onTap:()=>{Z({action:"click",item:"related-pins-avatar-image"})},children:(0,en.jsx)(J.qE,{accessibilityLabel:e.title||e.subtitle||L._('Creator\'s avatar', 'pinCardDetails.tapArea.avatar', 'The avatar of the creator of this pin.'),name:e.title||"",outline:!1,size:"sm",src:e.avatar||void 0})})}),(0,en.jsx)(g.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:(0,en.jsx)(g.iP,{onTap:()=>{Z({action:"click",item:"related-pins-name"})},children:(0,en.jsxs)(u.Fragment,{children:[e.title&&(0,en.jsx)(g.xv,{lineClamp:1,size:"100",weight:t&&!H||a?"normal":"bold",children:e.title===(null==q?void 0:q.fullName)&&(null!=q&&q.isVerifiedMerchant||null!=q&&null!==(I=q.verifiedIdentity)&&void 0!==I&&I.verified)?(0,en.jsx)(ed.Z,{badgeSize:"sm",badgeSpacing:2,fullName:e.title,verifiedType:q.isVerifiedMerchant?"verifiedMerchant":"verifiedIdentity"}):e.title}),e.subtitle?(!t&&!l||H)&&(0,en.jsx)(g.xv,{lineClamp:t||a?void 0:1,size:U?"200":"100",weight:U?"bold":"normal",children:e.subtitle}):!N&&V&&"protected"!==V.privacy?(0,en.jsx)(g.xu,{"data-test-id":"related-pin-text-below-name",children:(0,en.jsx)(g.rU,{underline:"hover",href:null!==(F=V.url)&&void 0!==F?F:"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,z.NC)("click_board_pin_attribution_profile"),Z({action:"click",item:"related-pin-text-below-name"})},children:(0,en.jsx)(g.xv,{size:"200",children:V.name})})}):null]})})})]})})}):U&&!!q&&((0,X.L6)(E)||(0,X.cD)(E)||(0,X.$Y)(E))&&(0,en.jsxs)(g.xu,{display:"flex",marginTop:O?2:0,children:[(0,en.jsx)(g.xu,{flex:"none","data-test-id":"related-pins-avatar-image",children:(0,en.jsx)(g.iP,{onTap:()=>{Z({action:"click",item:"related-pins-avatar-image"})},children:(0,en.jsx)(J.qE,{name:q.username||"",size:"sm",src:null!==(T=q.imageSmallUrl)&&void 0!==T?T:void 0})})}),(0,en.jsxs)(g.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:[(0,en.jsx)(g.rU,{underline:"hover",href:`/${q.username||""}/`,onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,z.NC)("click_board_pin_attribution_board"),Z({action:"click",item:"related-pins-name"})},children:(0,en.jsx)(g.xv,{size:"200",weight:"bold",children:q.fullName||q.username})}),V&&"protected"!==V.privacy?(0,en.jsx)(g.xu,{"data-test-id":"related-pin-text-below-name",children:(0,en.jsx)(g.rU,{underline:"hover",href:null!==(C=V.url)&&void 0!==C?C:"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,z.NC)("click_board_pin_attribution_profile"),Z({action:"click",item:"related-pin-text-below-name"})},children:(0,en.jsx)(g.xv,{size:"200",children:null!==(K=V.name)&&void 0!==K?K:""})})}):null]})]})]})},eg=e=>{let{pinId:i,pinGraphqlRef:a}=e,{data:l,childDataKey__DEPRECATED:n}=(0,k.sr)(eu,a?{type:"graphqlRef",data:a}:{type:"deprecated",data:i},{type:"pin",useLegacyAdapter:e=>({entityId:e.id,board:e.board&&{entityId:e.board.id},nativeCreator:e.native_creator&&{entityId:e.native_creator.id},pinner:e.pinner&&{fullName:e.pinner.full_name,imageSmallUrl:e.pinner.image_small_url,isVerifiedMerchant:e.pinner.is_verified_merchant,username:e.pinner.username,verifiedIdentity:e.pinner.verified_identity&&{verified:e.pinner.verified_identity.verified}},promoter:e.promoter&&{entityId:e.promoter.id},sponsorship:e.sponsorship&&{status:e.sponsorship.status}})});return l&&(0,en.jsx)(em,{...e,data:l,pinGraphqlRef:"graphqlRef"===n.type?n.data:null})};var e_=a(857079),eh=a(296011);let ey=void 0!==t?t:t=a(984670),ev=(e,i)=>{let a=(0,p.useRelayEnvironment)();return(0,en.jsx)(eh.t,{invite_code:e,relayEnvironment:a,inviteQuery:ey,children:e=>{let a=null!=e&&e.data?e.data.sender:null,l=a&&a.first_name?a.first_name.substring(0,30):"";if(!l)return null;let n=a&&!a.is_default_image?a.image_medium_url:"",t=(0,S.nk)(i._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:l});return(0,en.jsxs)(g.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,en.jsx)(g.zd,{height:32,width:32,children:(0,en.jsx)(J.qE,{name:l,src:n})}),(0,en.jsx)(g.xu,{width:"80%",paddingY:2,children:(0,en.jsx)(g.xv,{align:"center",size:"200",weight:"bold",children:t})})]})}})},ex=(e,i)=>(0,en.jsx)(eh.Z,{invite_code:e,children:e=>{let a=e?e.sender:null,l=a&&a.first_name?a.first_name.substring(0,30):"";if(!l)return null;let n=a&&!a.is_default_image?a.image_medium_url:"",t=(0,S.nk)(i._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:l});return(0,en.jsxs)(g.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,en.jsx)(g.zd,{height:32,width:32,children:(0,en.jsx)(J.qE,{name:l,src:n})}),(0,en.jsx)(g.xu,{width:"80%",paddingY:2,children:(0,en.jsx)(g.xv,{align:"center",size:"200",weight:"bold",children:t})})]})}}),ef=(e,i)=>{let{checkExperiment:a}=(0,T.F)(),l=a("graphql_migration_sharelink_sgrowth_web").anyEnabled;return l?ev(e,i):ex(e,i)},ek=({inviteCode:e})=>{let i=(0,b.ZP)();return(0,en.jsx)(g.xu,{minHeight:82,children:(0,en.jsx)(x.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,en.jsx)(A.Z,{fallback:(0,en.jsx)(e_.Z,{accessibilityLabel:i._('Loading Invitation component', 'Loading InviteFetch component', 'loading InviteFetch component')}),children:ef(e,i)})})})};var eb=a(407043),eS=a(301723),eP=a(934494),ew=a(623568),ej=a(310227),eI=a(909499),eF=a(690035),eT=a(499128),eC=a(343341),eK=a(826067),eD=a(361115),eA=a(364034),eL=a(881802),ez=a(927383),eR=a(332611),eE=a(8320),eM=a(662089),eZ=a(639952),eN=a(698330),eU=a(977734),eB=a(580751);let eO=new g.Ry(1);function eq({buttonText:e,clientTrackingParams:i,color:a="primary",deeplinkUri:l,experience:n,inline:t=!0,minWidth:r,onTouch:o,onUnsave:s,pinId:d,pinnedToBoardId:p,shape:_,shouldShowSavedButton:y,viewType:v,viewParameter:x,showSaveHandoffExperience:f}){var k;let S=(0,b.ZP)(),P=(0,c.useDispatch)(),w=(0,m.useHistory)(),j=(0,m.useLocation)(),I=(0,eB.M)(),F=j.pathname.startsWith("/pin"),C=(0,c.useSelector)(({session:e})=>e.hasSavedUnauthPin),K=(0,c.useSelector)(({session:e})=>e.unauthSavePinId),D=null===(k=(0,eN.Tt)())||void 0===k?void 0:k.pin_count,A=(0,h.Z)(),L=(0,R.Z)(),{checkExperiment:z}=(0,T.F)(),E=(0,eR.be)(),M=e=>w.push(e),{showToast:Z,showRepinConfirmation:N}=(0,eM.Z)(),U=()=>{var e;P((0,eU.Z)({checkExperiment:z,history:w,i18n:S,logContextEvent:A,onSuccess:()=>{n&&P(E(n.placement_id,n.experience_id))},originalPinId:d,pinId:d,trackingParams:{clientTrackingParams:i,pinnedToBoardId:p},showRepinConfirmation:f&&!F?()=>void 0:N,disableRepinAnimation:K===d,pinCount:D,historyPush:M,savePinId:null!==(e=null==I?void 0:I.save)&&void 0!==e?e:()=>{}})).catch(e=>Z(({hideToast:i})=>(0,en.jsx)(eT.ZP,{type:"error",text:e.message||S._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin'),onHide:i})))},B=(0,u.useRef)(null),q=f&&!C,V=(0,ez.Z)(),H=V({fn:e=>{e.stopPropagation(),e.preventDefault(),o&&o(e),y?y&&s&&s():U()},modalHeader:(0,eL.Bx)(S)});(0,u.useEffect)(()=>{q&&!B.current&&(L({action:"trigger",item:"unauth-save-button-quicksave"}),A({event_type:14581}),U(),P((0,eZ.e2)())),B.current=q});let W=()=>S._('Pin', 'quickSave.quickSaveButton.icon.accessibilityLabel', 'Pin accessibility label'),Y=()=>e||S._('Save', 'quickSave.quickSaveButton.buttonText', 'Auth mobile web save button for pin closeup');return C&&!F?null:(0,en.jsx)(g.xu,{"data-test-id":"save-button-mobile",zIndex:eO,children:l?(0,en.jsx)(O.di,{accessibilityLabel:W(),color:a,customStyles:{padding:"14px 16px"},deeplinkUri:l,inline:t,minHeight:48,minWidth:r,onTouch:H,pressState:["compress","background"],shape:_,size:"lg",text:Y(),to:w.location.pathname,upsellType:"save",viewType:v,viewParameter:x}):(0,en.jsx)(eE.Z,{accessibilityLabel:W(),color:a,customStyles:{padding:"14px 16px"},inline:t,minHeight:48,minWidth:r,onTouch:H,pressState:"compress",shape:_,size:"300",text:Y()})})}var eV=a(177891),eH=a(139574),eW=a(850431),eY=a(468760);function e$(e,i,a){var l;return(i="symbol"==typeof(l=function(e,i){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,i||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?l:String(l))in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a,e}class eG extends u.PureComponent{constructor(...e){var i;super(...e),i=this,e$(this,"state",{saveState:void 0}),e$(this,"legoFixedZIndex",new g.Ry(2)),e$(this,"onAddPin",async function(){let{clientTrackingParams:e,checkExperiment:a,dispatch:l,i18n:n,oneTapSave:t,pinId:r,pinnedToBoardId:o,showToast:s,viewType:d,historyPush:u,repinContext:c}=i.props;try{var p;let n=await l((0,eW.w)({checkExperiment:a,i18n:i.props.i18n,logContextEvent:i.props.logContextEvent,originalPinId:r,pinId:r,boardId:null==t?void 0:t.boardId,isOneTapSave:!0,onUndo:()=>{i.onDeletePin()},section:null==t?void 0:t.section,showToast:s,trackingParams:{clientTrackingParams:e,pinnedToBoardId:o},viewType:d,historyPush:u,savePinId:null!==(p=null==c?void 0:c.save)&&void 0!==p?p:()=>{}}));i.setState({saveState:"saved"}),l((0,eV.a)({boardId:null==t?void 0:t.boardId,localPinId:n.id,pinId:r}))}catch(e){s(({hideToast:i})=>(0,en.jsx)(eT.ZP,{type:"error",text:e.message||n._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),onHide:i})),i.setState({saveState:void 0})}}),e$(this,"onDeletePin",async function(){let{dispatch:e,clientTrackingParams:a,i18n:l,pinId:n,savedInfo:t,showToast:r,repinContext:o}=i.props;if(t){e((0,eV.k)({boardId:t.boardId,localPinId:t.localPinId,pinId:n})),null==o||o.unsave(n);try{await e((0,eH.q)({pinId:t.localPinId,boardId:t.boardId,clientTrackingParams:a})),r(({hideToast:e})=>(0,en.jsx)(eT.ZP,{text:l._('Pin deleted!', 'User deleted their pin', 'User deleted their pin'),onHide:e})),i.setState({saveState:void 0})}catch(e){r(({hideToast:e})=>(0,en.jsx)(eT.ZP,{type:"error",text:l._('Sorry! There was an error deleting your Pin.', 'Error when user tried to delete pin', 'Error when user tried to delete pin'),onHide:e})),i.setState({saveState:"saved"})}}}),e$(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();let{saveState:i}=this.state,{history:a,pinId:l,isOneTapExploreLocalTab:n,pinnedToBoard:t,directSaveExpGroup:r,oneTapSave:o}=this.props,s=r.includes("overlay");["saving","deleting"].includes(i)||n&&t||(i||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),n||!o&&s?a.push({pathname:`/pin/${l}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))},modalHeader:(0,eL.Bx)(this.props.i18n)})),e$(this,"shouldDisplayAsSaved",({isOneTapExploreLocalTab:e,pinnedToBoard:i,savedInfo:a})=>e?!!i:!!a)}render(){let{children:e,clientTrackingParams:i,directSaveExpGroup:a,homepageExperience:l,i18n:n,isBoardIdeas:t,isOneTapExploreLocalTab:r,isRTL:o,oneTapSave:s,pinId:d,pinnedToBoard:c,pinnedToBoardId:p,savedInfo:m,shouldShowSaveHandoffExp:_}=this.props,h=a.includes("overlay");if(!s&&!r&&!_&&!h)return e;let y=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:!!r,pinnedToBoard:c,savedInfo:m}),v={saved:"#000",unsaved:"rgba(255, 255, 255, 0.8)",savedText:"light",unsavedText:"dark"},x=y?(0,en.jsx)(g.xv,{weight:"bold",color:"light",children:n._('Saved', 'button for saving quickly with one click', 'button for saving quickly with one click, indicating pin is saved')}):(0,en.jsx)(g.xv,{weight:"bold",color:"dark",children:n._('Save', 'button for saving quickly with one click', 'button for saving quickly with one click, indicating pin is unsaved')}),f=null,k=a.includes("uselabel");return _?f=(0,en.jsx)(eq,{buttonText:c?n._('Saved', 'OneTapSave.QuickSaveButton.Saved', 'Message on saved pin'):"",clientTrackingParams:i,color:c?"default":"primary",deeplinkUri:"deeplinkUri",experience:l,inline:!0,pinnedToBoardId:p,minWidth:54,pinId:d,shape:"pill",shouldShowSavedButton:!!c,showSaveHandoffExperience:_}):s?f=(0,en.jsx)(g.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,en.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:y?v.saved:v.unsaved}},paddingX:2,paddingY:2,rounding:"circle",children:(0,en.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:(0,en.jsx)(g.JO,{accessibilityLabel:y?n._('saved', 'checkmark icon to show pin has been saved', 'checkmark icon to show pin has been saved'):n._('save', 'button for saving quickly with one click', 'button for saving quickly with one click'),icon:y?"check":t?(0,eY.f)():"add",color:y?v.savedText:v.unsavedText,size:16})})})}):h&&(f=(0,en.jsx)(g.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,en.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:y?v.saved:v.unsaved}},paddingX:k?3:2,paddingY:2,rounding:k?"pill":"circle",children:(0,en.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:k?x:(0,en.jsx)(g.JO,{accessibilityLabel:y?n._('saved', 'checkmark icon to show pin has been saved', 'checkmark icon to show pin has been saved'):n._('save', 'button for saving quickly with one click', 'button for saving quickly with one click'),icon:y?"check":(0,eY.f)(),color:y?v.savedText:v.unsavedText,size:16})})})})),(0,en.jsxs)(u.Fragment,{children:[e,(0,en.jsx)(g.xu,{bottom:!0,left:o,padding:2,position:"absolute",right:!o,zIndex:this.legoFixedZIndex,children:f})]})}}function eQ(e){let{showToast:i}=(0,eC.F9)(),a=(0,m.useLocation)(),l=(0,b.ZP)(),n=(0,h.Z)(),t=(0,ez.Z)(),r=(0,c.useDispatch)(),o=(0,m.useHistory)(),{isRTL:s,isAuthenticated:d}=(0,D.B)(),p=(0,eB.M)(),g=(0,c.useSelector)(({session:e})=>e.unauthSavePinId),_=d&&!!g&&g===e.pinId,{pins:y,clear:v}=(0,eA.Z)(),x=(0,u.useRef)(!1),f=(0,eK.mB)(a.search),k=f.ideas_referrer,S=(0,M.HG)(),{checkExperiment:P}=(0,T.F)(),w=(0,eD.J1)(),j=!S&&k===String(25),I=e=>o.push(e),F=(0,c.useSelector)(i=>i.pins[e.pinId]&&i.pins[e.pinId].savedInfo),C=(0,c.useSelector)(i=>i.pins[e.pinId]&&i.pins[e.pinId].pinned_to_board),K=(0,c.useSelector)(e=>e.experiences[40001]);return(0,Z.Z)(()=>{d&&!x.current&&y.length>0&&(x.current=!0,n({event_type:14577,aux_data:{num_unauth_saved_pins:y.length}}),[...y,...g&&P(w).anyEnabled?[{id:g}]:[]].forEach(({id:i})=>{var a;r((0,eU.Z)({checkExperiment:P,history:o,i18n:l,logContextEvent:n,onSuccess:()=>{},originalPinId:i,pinId:i,trackingParams:{clientTrackingParams:e.clientTrackingParams,pinnedToBoardId:e.pinnedToBoardId},showRepinConfirmation:()=>void 0,disableRepinAnimation:!0,historyPush:I,savePinId:null!==(a=null==p?void 0:p.save)&&void 0!==a?a:()=>{}})).catch(e=>{(0,z.My)(`error.unauth_profile_pin_merge.${e}`)})}),v())}),(0,en.jsx)(eG,{...e,checkExperiment:P,i18n:l,requireAuthForLimitedLogin:t,history:o,logContextEvent:n,showToast:i,shouldShowSaveHandoffExp:_,isRTL:s,historyPush:I,useSmallSaveIcon:j,repinContext:p,savedInfo:F,pinnedToBoard:C,homepageExperience:K,dispatch:r})}eQ.displayName="OneTapSave";var eJ=a(239062);let eX=({index:e,carouselSlots:i,imageSpec:a,color:l,onError:n,onLoad:t})=>(0,en.jsx)(g.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:i.map((i,r)=>{var o,s,d;let{slotId:u,title:c,details:p,imageSizeMap:m}=i,_=m?m[a]:null,h=_&&null!==(o=_.url)&&void 0!==o?o:"";return(0,en.jsx)(g.xu,{minWidth:"100%",dangerouslySetInlineStyle:{__style:{transform:`translate(${-100*e}%, 0%)`,transition:"transform 0.25s ease-in-out"}},"data-test-id":`carousel-swiper-${null!=u?u:r}`,children:(0,en.jsx)(eS.Z,{alt:c||p||"",color:l,naturalHeight:null!==(s=null==_?void 0:_.height)&&void 0!==s?s:1,naturalWidth:null!==(d=null==_?void 0:_.width)&&void 0!==d?d:1,onError:n,onLoad:t,src:h,loading:"auto",fetchPriority:"auto"},null!=u?u:r)},null!=u?u:r)})});var e0=a(721782),e1=a(883561);function e2({boardUrl:e,boardName:i,directSaveExpGroup:a,isQuicksave:l,sectionName:n,sectionSlug:t}){let r=(0,b.ZP)(),o=(0,m.useHistory)(),s=new g.Ry(1),d=!!t&&`${e}${t}/`;return a.includes("footer")?(0,en.jsx)(g.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:s,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,en.jsx)(g.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:a.includes("overlay")?0:4,children:(0,en.jsx)(g.iP,{onTap:i=>{i.event.preventDefault(),o.push(l?"/me/":d||e)},children:(0,en.jsx)(g.xu,{position:"absolute",bottom:!0,left:!0,right:!0,marginStart:4,marginBottom:4,marginEnd:4,children:(0,en.jsxs)(g.xu,{position:"relative",children:[(0,en.jsx)(g.xu,{children:(0,en.jsx)(g.xv,{color:"light",children:r._('Saved!', 'PinCard.SavedToProfile.Overlay', 'String saying "Saved" after saving a Pin')})}),(0,en.jsxs)(g.kC,{alignItems:"stretch",justifyContent:"start",flex:"grow",children:[(0,en.jsx)(g.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:(0,en.jsx)(g.xv,{color:"light",children:n?(0,S.nk)(r._('{{sectionName}}', 'PinCard.SavedToSection.Overlay', 'Saved to section overlay, sectionName:the section name that the pin is saved to'),{sectionName:(0,en.jsx)(g.xv,{color:"light",weight:"bold",inline:!0,children:(0,e1.ZP)(n,22)},`pincard-${n}`)}):(0,S.nk)(r._('{{boardName}}', 'PinCard.SavedToBoard.Overlay', 'Saved to board overlay, boardName:the board name that the pin is saved to'),{boardName:(0,en.jsx)(g.xv,{color:"light",weight:"bold",inline:!0,children:l?r._('Profile', 'PinCard.SavedToProfile.Overlay', 'Part of string saying "Saved to Profile" after saving a Pin'):(0,e1.ZP)(i,22)},`pincard-${i}`)})})}),(0,en.jsx)(g.xu,{position:"absolute",right:!0,bottom:!0,marginBottom:1,children:(0,en.jsx)(g.JO,{accessibilityLabel:r._('Saved!', 'PinCard.SavedToProfile.Overlay', 'String saying "Saved" after saving a Pin'),icon:"arrow-forward",size:"16",color:"light"})})]})]})})})})}):a.includes("overlay")?(0,en.jsx)(g.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:s,children:(0,en.jsx)(g.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:a.includes("overlay")?0:4,children:(0,en.jsx)(g.iP,{fullWidth:!0,fullHeight:!0,onTap:i=>{i.event.preventDefault(),o.push(l?"/me/":d||e)}})})}):(0,en.jsx)(g.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:s,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,en.jsx)(g.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:a.includes("overlay")?0:4,children:(0,en.jsx)(g.iP,{onTap:i=>{i.event.preventDefault(),o.push(l?"/me/":d||e)},children:(0,en.jsx)(g.xv,{color:"light",children:n?(0,S.nk)(r._('Saved to {{sectionName}}', 'PinCard.SavedToSection.Overlay', 'Saved to section overlay'),{sectionName:(0,en.jsx)(g.xv,{color:"light",weight:"bold",inline:!0,children:(0,e1.ZP)(n,22)},`pincard-${n}`)}):(0,S.nk)(r._('Saved to {{boardName}}', 'PinCard.SavedToBoard.Overlay', 'Saved to board overlay'),{boardName:(0,en.jsx)(g.xv,{color:"light",weight:"bold",inline:!0,children:l?r._('Profile', 'PinCard.SavedToProfile.Overlay', 'Part of string saying "Saved to Profile" after saving a Pin'):(0,e1.ZP)(i,22)},`pincard-${i}`)})})})})})}var e3=a(903095),e7=a(927104);let e6=({clickLoggingOptions:e,domain:i,link:a,onClick:l})=>{var n;let t=null===(n=(0,e3.lO)())||void 0===n?void 0:n.logging,r=(0,b.ZP)(),o=(0,h.Z)(),s=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:{}}].map(i=>({component:0,element:162,view_type:null==t?void 0:t.viewType,view_parameter:null==t?void 0:t.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...i}));return(0,en.jsx)(g.iP,{onTap:({event:e})=>{e.stopPropagation(),s().forEach(e=>o(e)),l(e)},children:(0,en.jsxs)(g.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,en.jsx)(g.xu,{marginEnd:1,children:(0,en.jsx)(g.JO,{size:9,icon:"arrow-up-right",color:"light",accessibilityLabel:r._('Link', 'unauth.pin.domain.link', 'Link to take them to the source of the iamge')})}),(0,en.jsx)("a",{href:a,onClick:e=>{e.stopPropagation(),s().forEach(e=>o(e)),l(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,en.jsx)(g.xv,{size:"200",inline:!0,weight:"bold",lineClamp:1,color:"inverse",children:(0,e7.Z)(i,27)})})]})})},e8=({domainLinkData:e})=>{let i=(0,b.ZP)(),a=(0,v.g)();return(0,en.jsxs)(g.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},children:[(0,en.jsx)(g.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,en.jsx)(g.X6,{size:"400",align:"center",color:"light",children:i._('Open', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.')})}),!!e&&(0,en.jsx)(g.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",minWidth:"100%",children:(0,en.jsx)(e6,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==a?void 0:a.pinLinkClickHandler)||(()=>{})})})]})};var e4=a(167525),e9=a(350118),e5=a(67347),ie=a(127525);let ii=void 0!==r?r:r=a(114565),ia="Left",il="Right",it=({width:e,height:i,minY:a,maxY:l})=>{let n=i=>e<=0||!i?"0%":Math.round(i/e*100)+"%";return{top:a<=0?"0%":n(-1*a*i),bottom:l>=1?"0%":n(-((1-l)*1)*i)}},ir=({children:e,margin:i,disableRounding:a})=>(0,en.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:i?{marginTop:i.top,marginBottom:i.bottom}:{}},position:"relative","data-test-id":"pin-visual-wrapper",children:(0,en.jsx)(g.zd,{wash:!0,rounding:a?0:ej.mv,children:e})}),io=({clientTrackingParams:e,color:i,data:a,description:l,directSaveExpGroup:n,domainLinkData:t,image:r,imageAltText:o,imageCrop:s,isBoardIdeas:d,isOneTapExploreLocalTab:c,isSquarePin:p,lazyLoadImage:_,onError:h,oneTapSave:v,onLoad:x,pinId:f,priorityFetchImage:k,disableDefaultContextMenu:S,pinnedToBoardId:P,productPrice:w,disableRounding:j,storyDataExists:I,title:F,type:C,videoDuration:K,viewType:A,slotIndex:L,isPromotedPin:E,setIsLongPressEnabledForAuth:Z,childDataKey__DEPRECATED:N,setCarouselIndex:U,carouselIndex:B,viewParameter:O})=>{var q,V,H,W,Y,$,G,Q,J,ee,ei,ea,el,et;let er=(0,b.ZP)(),eo=(0,eF.Z)(),{checkExperiment:es}=(0,T.F)(),[ed,eu]=(0,u.useState)(!1),[ec,ep]=(0,u.useState)(!1),{isAuthenticated:em}=(0,D.B)(),eg=(0,M.ZP)(),e_=(0,eB.M)(),eh=P&&!!(null!=e_&&e_.isSaved(f)),ey=t&&t.link?"with-link":"without-link",ev=!em&&"desktop"!==eg,ex=(0,u.useRef)(Date.now()),ef=(0,u.useRef)(null),ek=(0,R.Z)(),{shouldOpenInStream:eP,carouselData:ej,isEligibleForPdp:eT}=a,eC=(0,ie.I)(),{logContextEvent:eK}=(0,eb.v)(),eD=E&&I&&es("ads_mweb_idea_ad").anyEnabled,eA=es("ads_show_carousel_on_mweb").anyEnabled,eL=(0,u.useCallback)(()=>{ec||ep(!0)},[ec]);(0,u.useEffect)(()=>(eA&&"undefined"!=typeof window&&window.addEventListener("scroll",eL),()=>{"undefined"!=typeof window&&window.removeEventListener("scroll",eL)}),[eA,eL]),(0,u.useEffect)(()=>{ed&&!em&&ek({action:"view",item:"unauth-video-autoplay-on-hover"})},[ed,ek,em]),(0,u.useEffect)(()=>{var e,i;let a=`board-image-preload-${L-1}`,l=null!==(e=null===(i=document.getElementById(a))||void 0===i?void 0:i.getAttribute("href"))&&void 0!==e?e:"";eC&&5===A&&l&&(0,e5.nP)("www.blp.preloadImageCheck",{sampleRate:5,tags:{isAuthenticated:em,deviceType:eg,isEqual:l===r.url}})},[]);let ez=(0,e0.Z)(N,"PinCardVisual"),eR=e=>{var i,a,l,n;let t=null!==(i=null==ej?void 0:null===(a=ej.carouselSlots)||void 0===a?void 0:a.length)&&void 0!==i?i:0,r=B;e===ia&&B<t-1?r=B+1:e===il&&B>0&&(r=B-1),U(r),ez({pinId:f,currentIndex:B,nextIndex:r,carouselData:{carouselSlots:null==ej?void 0:null===(l=ej.carouselSlots)||void 0===l?void 0:l.map(({slotId:e})=>({id:e})),entityId:null!==(n=null==ej?void 0:ej.entityId)&&void 0!==n?n:""},viewParameter:O,viewType:A,componentType:14887,isEligibleForPdp:null!=eT&&eT})},eE=(e,i)=>{let a=e.x-i.x,l=e.y-i.y;return Math.abs(a)>Math.abs(l)?a>0?il:ia:l>0?"Down":"Up"},eM=eA&&ej?(0,en.jsx)(g.xu,{display:"flex",marginEnd:1,marginStart:1,marginTop:3,position:"relative",children:(0,en.jsx)(eJ.default,{addEllipsis:!0,ellipsisVariant:"dark",alwaysShowNavigationArrows:!1,carouselIndex:B,carouselData:{carouselSlots:null===(q=ej.carouselSlots)||void 0===q?void 0:q.map(({slotId:e,title:i})=>({id:e,title:i})),entityId:null!==(V=ej.entityId)&&void 0!==V?V:"",index:ej.index},handleCarouselSwipe:e=>{U(e)},pinKey:null==N||"graphqlRef"===N.type?N:{type:"deprecated",data:f},viewParameter:O,viewType:A,componentType:14888,hideNavigationArrows:!0})}):null,eZ=eA&&ej?(0,en.jsx)(eX,{index:B,carouselSlots:ej.carouselSlots?ej.carouselSlots.map(({slotId:e,details:i,imageSignature:a,title:l,imagesSpec_236x:n})=>({details:i,slotId:e,imageSignature:a,title:l,imageSizeMap:{"236x":{width:null==n?void 0:n.width,height:null==n?void 0:n.height,url:null==n?void 0:n.url}}})):[],imageSpec:"236x",color:i,onError:h,onLoad:x}):(0,en.jsx)(eS.Z,{alt:o||F||l||"",color:i,naturalHeight:null!==(H=r.height)&&void 0!==H?H:1,naturalWidth:null!==(W=r.width)&&void 0!==W?W:1,onError:h,onLoad:x,src:null!==(Y=r.url)&&void 0!==Y?Y:"",fit:p?"cover":void 0,loading:_?"lazy":"auto",fetchPriority:k?"high":"auto"}),eN=(0,m.useLocation)(),{scope:eU}=(0,m.useParams)(),eO=()=>(0,X.C$)(eN)?"homefeed":(0,X.L6)(eN)?"related_pins":(0,X.En)(eN)?"search":"unknown",eq=()=>(0,X.C$)(eN)?92:(0,X.L6)(eN)?140:(0,X.En)(eN)?(0,eI._R)((0,eI.oD)(eU)):void 0,eV=n.includes("enabled"),eH=eV?!P&&!!(null!=e_&&e_.isSaved(f)):(null===($=a.board)||void 0===$?void 0:$.layout)==="quick_saves",eW=eV?em&&(eh||eH):em&&eh;return(0,en.jsxs)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:[(0,en.jsxs)(g.xu,{onContextMenu:e=>{if("desktop"!==eg){let i=eO();(0,z.My)(`${em?"auth":"unauth"}.mweb_pin_feed.pin_image.long_press`,{page:i}),(!em||es("mweb_long_press_menu_v2",{dangerouslySkipActivation:!0}).anyEnabled)&&(e.preventDefault(),e.stopPropagation())}},onTouchStart:e=>{if("desktop"!==eg&&(ep(!1),(0,z.My)("unauth.mweb.related_pin.image.touch.start"),(!em||es("mweb_long_press_menu_v2",{dangerouslySkipActivation:!0}).anyEnabled)&&(null==S||S()),ex.current=Date.now(),e.changedTouches&&e.changedTouches.length>0)){let i=e.changedTouches[0];i&&(ef.current={x:i.pageX,y:i.pageY})}},onTouchEnd:e=>{if("desktop"!==eg){let i=eO();(0,z.My)("unauth.mweb.related_pin.image.touch.end");let a=Date.now()-ex.current,l=a>500,n=ef.current;if(e.changedTouches&&e.changedTouches.length>0&&n){let a=e.changedTouches[0],t={x:a.pageX,y:a.pageY},r=eE(t,n),o=Math.pow(a.pageX-n.x,2)+Math.pow(a.pageY-n.y,2);if(!eA||r!==ia&&r!==il||l||ec||(e.preventDefault(),e.stopPropagation(),eR(r)),a&&o>100)return;if(l&&!em&&"related_pins"===i)null==S||S(),eo({pinId:f,location:"related-pins-long-press"}),e.stopPropagation();else if(l&&em){let i=eq();void 0!==i&&es("mweb_long_press_menu_v2").anyEnabled&&(null==S||S(),null==Z||Z(!0),e.stopPropagation()),eK({event_type:103,view_parameter:eq()})}}}},"data-test-id":`pincard-${C}-${ey}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:ev||es("prevent_open_on_hover").anyEnabled?void 0:()=>eu(!0),onMouseLeave:ev?void 0:()=>eu(!1),position:"relative",rounding:j?0:4,children:[(0,en.jsxs)(eQ,{clientTrackingParams:e||"",oneTapSave:v,isBoardIdeas:d,isOneTapExploreLocalTab:c,pinId:f,directSaveExpGroup:n,pinnedToBoardId:P,viewType:A,children:[(()=>{var e,i,l,n;if("gif"===C&&!eh)return(0,en.jsx)(e4.Z,{text:er._('GIF', 'pin.pinCard.gifIconIdentifier', 'pin type identifier for gifs')});if("video"===C&&K&&!eh)return(0,en.jsx)(e4.Z,{text:K});if("storyPin"===C&&I&&!eh&&!1!==eP){let l=(null===(e=a.storyPinData)||void 0===e?void 0:e.staticPageCount)||0,n=(null===(i=a.storyPinData)||void 0===i?void 0:i.totalVideoDuration)||0,t=n+l*ew.oN;return(0,en.jsx)(e4.Z,{text:(0,y.Z)(t)})}if(eD&&I&&!eh&&!1!==eP&&E){let e=(null===(l=a.storyPinData)||void 0===l?void 0:l.staticPageCount)||0,i=(null===(n=a.storyPinData)||void 0===n?void 0:n.totalVideoDuration)||0;if(i>0){let a=i+e*ew.oN;return(0,en.jsx)(e4.Z,{text:(0,y.Z)(a)})}}return"product"===C&&w?(0,en.jsx)(e4.Z,{text:w}):null})(),(0,en.jsx)(ir,{disableRounding:j,margin:s?it({width:null!==(G=r.width)&&void 0!==G?G:1,height:null!==(Q=r.height)&&void 0!==Q?Q:1,minY:s.minY,maxY:s.maxY}):void 0,children:p?(0,en.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,en.jsx)(g.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:eZ})}):eZ})]}),ed&&!em&&(0,en.jsx)(e8,{domainLinkData:t}),eW&&(0,en.jsx)(e2,{boardName:null!==(J=null===(ee=a.board)||void 0===ee?void 0:ee.name)&&void 0!==J?J:"",boardUrl:null!==(ei=null===(ea=a.board)||void 0===ea?void 0:ea.url)&&void 0!==ei?ei:"",directSaveExpGroup:n,sectionName:null==v?void 0:null===(el=v.section)||void 0===el?void 0:el.title,sectionSlug:null==v?void 0:null===(et=v.section)||void 0===et?void 0:et.slug,isQuicksave:eH})]}),eM]})},is=(0,eP.Z)({useGraphQLAdapter:e=>{let i=(0,p.useFragment)(ii,e);return{pin:i,childDataKey__DEPRECATED:{type:"graphqlRef",data:i}}},useLegacyAdapter:({pinId:e,pinnedToBoardId:i})=>{var a,l;let n=(0,e9.S6)()(e),t=(0,ei.gC)();if(!n)return null;let r=t(i||String(null===(a=n.board)||void 0===a?void 0:a.id));return{pin:{board:r&&{layout:r.layout,name:r.name,url:r.url},shouldOpenInStream:n.should_open_in_stream,storyPinData:n.story_pin_data&&{staticPageCount:n.story_pin_data.static_page_count,totalVideoDuration:n.story_pin_data.total_video_duration},carouselData:n&&n.carousel_data?{index:n.carousel_data.index,entityId:n.carousel_data.id||n.id,carouselSlots:null===(l=n.carousel_data.carousel_slots)||void 0===l?void 0:l.map(e=>{var i;return{slotId:e.id,details:e.details,imageSignature:e.image_signature,title:e.title,imagesSpec_236x:(null===(i=e.images)||void 0===i?void 0:i["236x"])&&{height:e.images["236x"].height,url:e.images["236x"].url,width:e.images["236x"].width}}})}:null,isEligibleForPdp:n.is_eligible_for_pdp},childDataKey__DEPRECATED:{type:"deprecated",data:n}}}}),id=e=>(0,en.jsx)(is,{input:e.pinGraphqlRef?{enabled:!0,data:e.pinGraphqlRef}:{enabled:!1,data:{pinId:e.pinId,pinnedToBoardId:e.pinnedToBoardId}},children:({data:i})=>i&&(0,en.jsx)(io,{...e,childDataKey__DEPRECATED:i.childDataKey__DEPRECATED,data:i.pin})});var iu=a(55275);let ic={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:.8,transition:"opacity 1s ease"}},ip=(e,i,a)=>(0,en.jsx)(g.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,en.jsx)(g.rU,{display:"inlineBlock",href:i,tapStyle:"none",underline:"hover",children:a})},e);function im({color:e,getFeedbackText:i,margin:a,onUnfollow:l,showing:n,unfollowed:t}){let r=(0,b.ZP)(),[o,s]=(0,u.useState)(n?"fadeIn":"initial"),d=(0,u.useRef)(null),c=(0,h.Z)();(0,u.useEffect)(()=>("initial"===o&&n&&(d.current=window.requestAnimationFrame(()=>s("fadeIn"))),()=>{d.current&&window.cancelAnimationFrame(d.current)}),[o,s,n]);let{subTitle:p,title:m,unfollow:_}=i(ip),y=m,v=p;_&&t&&(y=_.title,v=_.subTitle);let x=()=>_?(0,iu.t)(_.action,_.actionOptions,l,c):void 0;return n&&(0,en.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...ic[o]}},margin:a,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,en.jsxs)(g.xu,{width:"100%",height:"100%",color:"dark",rounding:4,overflow:"auto",children:[(0,en.jsxs)(g.xu,{"data-test-id":"reported-overlay",padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,en.jsxs)(g.xu,{children:[(0,en.jsx)(g.X6,{size:"400",color:"light",children:y}),!!v&&(0,en.jsxs)(g.xu,{marginTop:1,children:[(0,en.jsx)(g.xv,{color:"light",size:"200",inline:!0,children:v}),(0,en.jsx)(g.xv,{color:"light",inline:!0,size:"200",weight:"bold",children:(0,en.jsx)(g.rU,{href:"/edit",display:"block",rounding:2,tapStyle:"none",underline:"hover",children:r._('Tune your home feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})})]})]}),!t&&_&&(0,en.jsx)(g.xu,{paddingY:1,children:(0,en.jsx)(g.zx,{fullWidth:!0,color:"white",text:r._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:x})})]}),!t&&_&&(0,en.jsx)(g.xu,{paddingY:1,children:(0,en.jsx)(g.zx,{fullWidth:!0,color:"white",text:r._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:x})})]})})}var ig=a(904779);function i_(e){let i=(0,b.ZP)(),{pinId:a,clientTrackingParams:l,directSaveExpGroup:n}=e,t=(0,eB.M)(),r=(0,m.useHistory)(),{showToast:o}=(0,eC.F9)(),s=(0,c.useSelector)(e=>e.pins[a]&&e.pins[a].savedInfo),d=!!(null!=t&&t.isSaved(a))||s,u=(0,c.useDispatch)(),p=n.includes("uselabel"),_=async e=>{if(e.stopPropagation(),e.preventDefault(),d){if(s){u((0,eV.k)({boardId:s.boardId,localPinId:s.localPinId,pinId:a})),null==t||t.unsave(a);try{await u((0,eH.q)({pinId:s.localPinId||"",boardId:s.boardId,clientTrackingParams:l})),o(({hideToast:e})=>(0,en.jsx)(eT.ZP,{text:i._('Pin deleted!', 'User deleted their pin', 'User deleted their pin'),onHide:e}))}catch(e){o(({hideToast:e})=>(0,en.jsx)(eT.ZP,{type:"error",text:i._('Sorry! There was an error deleting your Pin.', 'Error when user tried to delete pin', 'Error when user tried to delete pin'),onHide:e}))}}}else r.push({pathname:`/pin/${a}/repin`,state:{isOneTapSave:!0}})},h=d?(0,en.jsx)(g.xv,{weight:"bold",size:"100",children:i._('Saved', 'button for saving quickly with one click', 'button for saving quickly with one click, indicating pin is saved')}):(0,en.jsx)(g.xv,{weight:"bold",size:"100",children:i._('Save', 'button for saving quickly with one click', 'button for saving quickly with one click, indicating pin is unsaved')});return p?(0,en.jsx)(g.iP,{onTap:({event:e})=>{_(e)},rounding:"circle",children:(0,en.jsx)(g.xu,{color:"transparent",paddingX:2,paddingY:1,rounding:"pill",children:(0,en.jsx)(g.xu,{children:h})})}):(0,en.jsx)(g.hU,{icon:d?"check":(0,eY.f)(),size:"sm",iconColor:"darkGray",padding:1,accessibilityLabel:d?i._('Undo save', 'PinFooterSaveButton.Unsave', 'String saying "Undo save" after saving a Pin to undo save'):i._('Save', 'PinFooterSaveButton.Save', 'String saying "Save" to ask user to save a pin'),onClick:({event:e})=>{_(e)}})}var ih=a(561195);function iy({maxRating:e,rating:i,text:a}){return(0,en.jsxs)(g.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,en.jsx)(ih.Z,{max_rating:e||"",rating:i||"",width:10}),a&&(0,en.jsx)(u.Fragment,{children:(0,en.jsx)(g.xu,{marginStart:1,overflow:"hidden",children:(0,en.jsx)(g.xv,{size:"100",lineClamp:1,children:a})})})]})}var iv=a(255607),ix=a(21384);let ik=void 0!==o?o:o=a(91849);function ib({dedupeVisualAnnotations:e,description:i,gridTitle:a,pinId:l,richMetadataTitle:n,richSummaryDisplayName:t,storyPinDataId:r,storyPinDataMetadataPinTitle:o,title:s,queryRef:d}){let u=(0,p.useFragment)(ik,d);return(0,en.jsxs)(g.xu,{paddingX:2,marginBottom:-1,display:"flex",children:[(0,en.jsx)(g.xu,{flex:"grow",maxHeight:32,minHeight:12,overflow:"hidden",width:142,children:(0,en.jsx)(g.xv,{lineClamp:2,size:"100",weight:"bold",children:(0,F.fs)({pinTitle:s,gridTitle:a,richSummaryDisplayName:t,richMetadataTitle:n,storyPinDataId:r,storyPinDataMetadataPinTitle:o})||i})}),(0,en.jsx)(g.xu,{children:(0,en.jsx)(ix.Z,{pinId:l,size:"sm",graphqlRef:u,dedupeVisualAnnotations:e})})]})}var iS=a(248299),iP=a(430235);let iw=void 0!==s?s:s=a(156577),ij=({attribute:e,deviceType:i,location:a})=>{let l=(0,R.S)(a);(0,z.My)("unauth.product_attribution.click",{item:e,page:l,device:i})},iI=({isSquarePin:e,price:i,shouldDisplayMerchant:a})=>{if(i&&e)return a?90:68},iF=({maxPrice:e,minPrice:i,price:a})=>e&&i?`${i}-${e}`:a;function iT({dedupeVisualAnnotations:e,description:i,domain:a,graphqlRef:l,gridTitle:n,isSquarePin:t,pinId:r,priceSummary:o,richMetadataTitle:s,richSummaryDisplayName:d,storyPinDataId:c,storyPinDataMetadataPinTitle:p,title:_}){let h=(0,M.ZP)(),y=(0,m.useLocation)(),v=o&&(o.price||o.standardPrice||iF(o)),x=(0,u.useMemo)(()=>t?2:v?3:2,[t,v]);if(!r)return null;let f=(0,F.fs)({pinTitle:_,gridTitle:n,richSummaryDisplayName:d,richMetadataTitle:s,storyPinDataId:c,storyPinDataMetadataPinTitle:p})||i,k=`/pin/${r}/`;return(0,en.jsx)(g.xu,{paddingX:2,marginBottom:-1,marginTop:2,display:"flex",direction:"column",height:iI({isSquarePin:t,price:v}),children:(0,en.jsxs)(g.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,en.jsx)(g.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:(0,en.jsxs)(O.MZ,{to:k,accessibilityLabel:f,deeplinkUri:k,children:[v&&(0,en.jsx)(g.iP,{onTap:()=>ij({deviceType:h,attribute:"price",location:y}),children:(0,en.jsx)(g.xv,{size:"100",weight:"bold",children:v})}),(0,en.jsx)(g.xu,{marginTop:1,children:(0,en.jsx)(g.iP,{onTap:()=>ij({deviceType:h,attribute:"title",location:y}),children:(0,en.jsx)(g.xv,{size:"100",weight:"bold",lineClamp:x,children:f})})}),a&&v&&(0,en.jsx)(g.xu,{marginTop:1,children:(0,en.jsx)(g.iP,{onTap:()=>ij({deviceType:h,attribute:"merchant",location:y}),children:(0,en.jsx)(g.xv,{size:"100",lineClamp:1,children:a})})})]})}),"desktop"!==h&&(0,en.jsx)(g.xu,{children:(0,en.jsx)(ix.Z,{dedupeVisualAnnotations:e,pinId:r,size:"sm",graphqlRef:l})})]})})}let iC=(0,eP.Z)({useGraphQLAdapter:({queryRef:e})=>(0,p.useFragment)(iw,e),useLegacyAdapter:()=>null});function iK({queryRef:e,...i}){return(0,en.jsx)(iC,{input:e?{enabled:!0,data:{queryRef:e}}:{enabled:!1,data:{pinId:i.pinId}},children:({data:e})=>(0,en.jsx)(iT,{...i,graphqlRef:e})})}var iD=a(394332);let iA=void 0!==d?d:d=a(813283),iL=({isDesktop:e})=>e?0:1,iz=e=>!!(e.promoter&&!e.isDownstreamPromotion),iR=e=>{let{attribution:i,embed:a,isEligibleForWebCloseup:l,richSummary:n,videos:t,storyPinDataId:r}=e,o=a||(null==i?void 0:i.embed);return l?"oneTap":t||(null==o?void 0:o.type)==="video"?"video":(null==o?void 0:o.type)==="gif"?"gif":(null==n?void 0:n.typeName)==="product"?"product":(null==n?void 0:n.typeName)==="recipe"?"recipe":r?"storyPin":"image"},iE=e=>{let{adDestinationUrl:i,link:a,trackedLink:l}=e;return i||l||a||""},iM=e=>{var i,a,l;let n=null===(i=e.videos)||void 0===i?void 0:i.videoList;return n?(0,y.Z)(null!==(a=null===(l=n[Object.keys(n)[0]])||void 0===l?void 0:l.duration)&&void 0!==a?a:0):""},iZ=e=>{var i;let[a]=(null===(i=e.richSummary)||void 0===i?void 0:i.products)||[];if(!a)return null;let{offerSummary:l}=a;return l&&(l.price||l.maxPrice)},iN=e=>e&&e.includes("/user/default")?void 0:e,iU=(0,u.lazy)(()=>Promise.all([a.e(95044),a.e(44970),a.e(56503),a.e(52435)]).then(a.bind(a,475887)));function iB({auxData:e,componentType:i,debugInfo:a,disableAppUpsell:l,disableReaction:n,disableRounding:t,duploConversationPin:r,duploDedupeVisualAnnotations:o,duploDisablePinCardPadding:s,duploFeedItemProps:d,duploIsSquarePin:p,duploLazyLoadImage:y,duploOneTapSave:k,duploPinCardDetailsMargin:E,duploPriorityFetchImage:Q,duploQueryRef:J,duploShouldAddNiiSearchParamToImageUrls:X,duploShouldAllowProductPriceIndicator:ee,feedback:ei,imageOnlyOption:ea,impressionData:el,objectIdStr:et,pin:er,slotIndex:eo,topLevelTrafficSource:es,topLevelTrafficSourceDepth:ed,trackingParams:eu,trafficSource:ec,viewData:ep,viewParameter:em,viewType:e_}){var eh,ey,ev,ex,ef,eb,eS,eP,ew,ej,eI,eF,eT,eC,eK,eD,eA,eL,ez,eR;let eE;let eM=(0,b.ZP)(),eZ=(0,v.g)(),eN=(0,m.useLocation)(),eU=(0,M.HG)(),eB=(0,G.Z)(),eO=(0,C.yz)(),eq=(0,f._)({id:1000107}),eV=(0,h.Z)(),eH=(0,R.Z)(),{country:eW,isAuthenticated:eY,isBot:e$,isSocialBot:eG}=(0,D.B)(),{viewedSharedPins:eQ}=(0,c.useSelector)(({session:e})=>e),eJ=(0,c.useSelector)(({experiences:e})=>{let i=e[1000107];return!!i&&500678===i.experience_id}),eX=(0,c.useSelector)(({session:e,users:i})=>(0,P.Z)(i[e.userId].created_at)),{getPinFeedbackStatus:e0,setPinFeedbackStatus:e1}=(0,ig.K)(),[e2,e3]=(0,u.useState)(!1),[e7,e6]=(0,u.useState)(!1),[e8,e4]=(0,u.useState)(!1),[e9,ie]=(0,u.useState)(null!==(eh=null===(ey=er.carouselData)||void 0===ey?void 0:ey.index)&&void 0!==eh?eh:0),ii=(0,u.useRef)(),ia=(0,N.Z)(),il=er.entityId,it=!!er.storyPinDataId&&!1===er.shouldOpenInStream,ir=e=>X&&e?{...e,url:e.url&&(0,L.H5)(e.url)}:e,io=ir(er.imageSpec_136x136),is=ir(er.imageSpec_170x),iu=ir(er.imageSpec_236x),ic=ir(er.imageSpec_474x),ip=ir(er.imageSpec_736x),ih=ir(er.imageSpec_orig),ix={...[["136x136",io],["170x",is],["236x",iu],["474x",ic],["736x",ip],["orig",ih]].reduce((e,[i,a])=>{var l,n,t,r;return a&&(e[i]={dominant_color:null!==(l=a.dominantColor)&&void 0!==l?l:void 0,height:null!==(n=a.height)&&void 0!==n?n:void 0,url:null!==(t=a.url)&&void 0!==t?t:void 0,width:null!==(r=a.width)&&void 0!==r?r:void 0}),e},{})},{checkExperiment:ik}=(0,T.F)(),iw=Object.keys(ix).reduce((e,i)=>{var a;return i&&null!==(a=ix[i])&&void 0!==a&&a.url?{...e,[i]:ix[i].url}:e},{}),ij=e=>{var i,a;return(0,j.Z)({embedSrc:null===(i=er.embed)||void 0===i?void 0:i.src,embedType:null===(a=er.embed)||void 0===a?void 0:a.type,imagesUrls:iw,preferredResolution:e,excludeOriginals:!e$&&!eG})},iI=iR(er),iF=(0,U.z)();(0,Z.Z)(()=>{if(iF&&!eU&&"image"===iI){let i=ix["236x"]||ix["136x136"],a=ij("736x");if(a){var e;let l={pin:{dominantColor:er.dominantColor,link:er.link,mobileLink:er.mobileLink,richMetadata:er.richMetadata&&{__typename:"RichPinDataView",article:er.richMetadata.article&&{__typename:"ArticleMetadata"},recipe:er.richMetadata.recipe&&{__typename:"RecipeMetadata"},products:null===(e=er.richMetadata.products)||void 0===e?void 0:e.map(()=>({__typename:"RichPinProductMetadata"}))},trackedLink:er.trackedLink},derived:{homefeedRecommendationReason:92===em&&er.recommendationReason?{reason:er.recommendationReason.reason,reasonId:er.recommendationReason.reasonId}:null,imageUrl:a,placeholder:i&&{width:i.width,height:i.height,url:i.url}}};iF.setData(il,l)}}}),(0,Z.Z)(()=>{if(!eY&&0===eo&&3070===em){var e,i,a;let l=eN.pathname,{imageSignature:n,entityId:t,imageSpec_236x:r,description:o}=er;(0,$.H$)(l,n,t,r&&{dominant_color:null!==(e=r.dominantColor)&&void 0!==e?e:void 0,height:null!==(i=r.height)&&void 0!==i?i:void 0,url:r.url,width:null!==(a=r.width)&&void 0!==a?a:void 0},o)}});let iT=92===em&&(null===(ev=eQ&&eQ[il])||void 0===ev?void 0:ev.inviteCode),iC=p?{height:136,url:null==iu?void 0:iu.url,width:136}:[iu,is,io,ip,ic,ih].find(e=>e&&e.url)||{width:1,height:1,url:""},iA=null===(ex=er.videos)||void 0===ex?void 0:null===(ef=ex.videoList)||void 0===ef?void 0:ef.v720P,iB=(0,V.Z)({isEligibleForPdp:er.isEligibleForPdp,isOosProduct:er.isOosProduct,isStaleProduct:er.isStaleProduct,pinShoppingFlags:null!==(eb=er.shoppingFlags)&&void 0!==eb?eb:void 0}),iO=()=>{let a=(0,H.Z)(eu,er.trackingParams);if((0,z.My)(`unauth_pin_rep.click.${String(em)}`),eV({view_type:e_,view_parameter:em,element:er.storyPinDataId?12372:35,event_type:101,component:i,object_id_str:il,clientTrackingParams:a,aux_data:{commerce_data:iB,grid_index:eo,image_signature:er.imageSignature,...e}}),"oneTap"!==iI&&eV({event_type:8948,view_type:e_,view_parameter:em,object_id_str:il,clientTrackingParams:a,aux_data:{image_signature:er.imageSignature,commerce_data:iB,closeup_navigation_type:"click",grid_index:eo,cosmic_ray_count:"3",...e}}),!eY)switch(eH({action:"click",item:"pin"}),e_){case 3:(0,z.NC)("click_pin_related_image");break;case 5:(0,z.NC)("click_board_pin_image");break;case 210:(0,z.NC)("click_topic_pin_image");break;case 605:(0,z.NC)("click_shopping_category_pin_image");break;case 606:(0,z.NC)("click_videos_category_pin_image")}"oneTap"===iI&&(eV({event_type:8948,view_type:e_,view_parameter:em,object_id_str:il,clientTrackingParams:a,aux_data:{image_signature:er.imageSignature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...e}}),(0,Y.jC)({view_type:e_,view_parameter:em,element:er.storyPinDataId?12372:35,component:i,object_id_str:il,aux_data:{commerce_data:iB,grid_index:eo,image_signature:er.imageSignature,...e},clientTrackingParams:a}),eV({component:i,event_type:13,view_type:3,clientTrackingParams:a,aux_data:{closeup_navigation_type:"web_closeup",image_signature:er.imageSignature},object_id_str:il}))},iq=e0({pinId:il}),iV=iz(er),iH=()=>{var e,i,a,l,n,t,r,o,s,d,u,c,p,m;let g=({user:e,linkToBoard:i})=>{var a;return{link:i?(null===(a=er.board)||void 0===a?void 0:a.url)||`/pin/${er.entityId}/`:(null==e?void 0:e.username)&&`/${e.username}/`||"",avatar:iN(null==e?void 0:e.imageMediumUrl)||iN(null==e?void 0:e.imageSmallUrl)}};if(iz(er))return er.sponsorship&&(null===(o=er.promoter)||void 0===o?void 0:o.entityId)!==(null===(s=er.nativeCreator)||void 0===s?void 0:s.entityId)?{title:null===(d=er.nativeCreator)||void 0===d?void 0:d.fullName,subtitle:null===(u=er.promoter)||void 0===u?void 0:u.fullName,...g({user:er.nativeCreator})}:{title:eM._('Promoted by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:null===(c=er.promoter)||void 0===c?void 0:c.fullName,...g({user:er.promoter})};if(null!==(e=er.sponsorship)&&void 0!==e&&e.creator)return{title:null===(p=er.nativeCreator)||void 0===p?void 0:p.fullName,subtitle:null===(m=er.sponsorship.sponsor)||void 0===m?void 0:m.fullName,...g({user:er.nativeCreator})};if(!er.isEligibleForPdp){if(er.nativeCreator)return{title:er.nativeCreator.fullName,subtitle:"",...g({user:er.nativeCreator})};switch(em){case 3375:if(!(null!==(i=er.linkDomain)&&void 0!==i&&null!==(a=i.officialUser)&&void 0!==a&&a.isPrimaryWebsiteVerified))return;let e=null!==(l=er.storyPinData)&&void 0!==l&&l.hasProductPins?er.nativeCreator:er.linkDomain.officialUser;return{title:"",subtitle:null==e?void 0:e.fullName,...g({user:e})};case 0:case 3173:return null!==(n=er.storyPinData)&&void 0!==n&&n.hasProductPins?{title:"",subtitle:null===(t=er.nativeCreator)||void 0===t?void 0:t.fullName,...g({user:er.nativeCreator,linkToBoard:!0})}:{title:er.board&&"protected"===er.board.privacy?eM._('Saved by', 'Grid pin annotation', 'Grid pin annotation'):(null===(r=er.pinner)||void 0===r?void 0:r.fullName)||"",subtitle:"",...g({user:er.pinner,linkToBoard:!0})};default:return}}},iW=(0,w.hP)({boardFollowedByMe:!!(null!==(eS=er.board)&&void 0!==eS&&eS.followedByMe),feedbackType:null==ei?void 0:ei.type,viewParameter:em,promotion:er&&er.promoter&&{isDownstreamPromotion:!!er.isDownstreamPromotion},pinnerFollowedByMe:!!(null!==(eP=er.pinner)&&void 0!==eP&&eP.explicitlyFollowedByMe),recommendationReason:er.recommendationReason&&{hasBoard:!!er.recommendationReason.board,reason:null!==(ew=er.recommendationReason.reason)&&void 0!==ew?ew:void 0}}),iY=e=>{var i,a,l;let n={i18n:eM,makeNavigateLink:e};switch(iW){case"pfy":return(0,w.Ud)({...n,feedback:{type:"pfy"}});case"pfyBoard":return(0,w.Ud)({...n,feedback:{type:"pfyBoard",recommendationReasonBoard:(null===(i=er.recommendationReason)||void 0===i?void 0:i.board)&&{name:null!==(a=er.recommendationReason.board.name)&&void 0!==a?a:"",url:null!==(l=er.recommendationReason.board.url)&&void 0!==l?l:""}}});case"topic":return(0,w.Ud)({...n,feedback:{type:"topic",sourceInterest:er.sourceInterest&&er.sourceInterest.name&&er.sourceInterest.urlName?{name:er.sourceInterest.name,url_name:er.sourceInterest.urlName}:null}});case"followed":return(0,w.Ud)({...n,feedback:{type:"followed",followed:er.pinner&&er.pinner.explicitlyFollowedByMe?{type:"pinner",pinner:er.pinner.fullName&&er.pinner.username?{full_name:er.pinner.fullName,username:er.pinner.username}:null}:{type:"board",board:er.board&&er.board.name&&er.board.url?{name:er.board.name,url:er.board.url}:null}}});case"promoted":return(0,w.Ud)({...n,feedback:{type:"promoted",promoter:!er.adMatchReason&&er.promoter&&er.promoter.fullName?{full_name:er.promoter.fullName,username:er.promoter.username}:null}});default:return null}},{attributionSourceId:i$,category:iG,linkDomain:iQ,description:iJ,gridTitle:iX,imageSignature:i0,richMetadata:i1,richSummary:i2,title:i3,sponsorship:i7,storyPinData:i6,carouselData:i8}=er,[i4,i9]="string"==typeof iX?[iX,""]:[null==i2?void 0:i2.displayName,iJ],i5=null,ae=ik("ads_show_carousel_on_mweb").anyEnabled;ae&&i8&&i8.carouselSlots&&((eE=i8.carouselSlots[e9]).link&&"oneTap"===iI&&(i5=eE.link),eE.title&&(i4=eE.title),eE.details&&(i9=eE.details));let ai=null==i6?void 0:i6.isDeleted,aa=(0,H.Z)((eN&&eN.state||{}).trackingParams||eu,er.trackingParams),al="product"===iI&&!eY,{experimentsClient:an}=(0,D.B)(),at=eJ&&3375!==em&&(an.checkExperiment("mweb_pin_grid_image_only_v2").anyEnabled||an.checkExperiment("mweb_pin_grid_image_only_v2_new_user").anyEnabled),ar=eJ&&!(i2&&43===em&&!eX||3375===em)||at,ao=null===(ej=er.pinJoin)||void 0===ej?void 0:ej.visualAnnotation;o&&ao&&(ao=o({pinId:il,visualAnnotations:ao}));let as=(0,F.rw)(null!==(eI=er.description)&&void 0!==eI?eI:"",er.descriptionHtml||"",ao,er.altText||"",er.autoAltText||""),ad=eY?i9:(0,I.Z)({storyPinDataId:er.storyPinDataId,pinDescription:er.description,richMetadataDescription:null!==(eF=null===(eT=er.richMetadata)||void 0===eT?void 0:eT.description)&&void 0!==eF?eF:"",richSummaryDisplayName:null!==(eC=null===(eK=er.richSummary)||void 0===eK?void 0:eK.displayName)&&void 0!==eC?eC:"",closeupDescription:null!==(eD=er.closeupDescription)&&void 0!==eD?eD:"",closeupUnifiedDescription:null!==(eA=er.closeupUnifiedDescription)&&void 0!==eA?eA:""});null===i5&&(i5="oneTap"===iI?er.trackedLink||er.link:eY?(0,F.BY)(il):(0,F.bN)({pinId:il,seoUrl:er.seoUrl}));let au=null;if(!ia&&iV&&null!==(eL=window.document.featurePolicy)&&void 0!==eL&&eL.allowsFeature("attribution-reporting"))try{let e=(0,_.m_)(null!=i$?i$:"0",iE(er),!0,er.campaignId,er.advertiserId);au=`attributionsrc=${encodeURIComponent(e)}`}catch(e){(0,e5.nP)("webapp.arapi.click.funnel",{sampleRate:.1,tags:{status:"failed",error:e.name}})}let ac={accessibilityLabel:as||i4||i9||eM._('Pin', 'Pin accessibility label', 'Pin accessibility label'),country:eW,deeplinkUri:i5,external:"oneTap"===iI,externalQueryParams:{pin:il,client_tracking_params:eu},features:au,isAppUpsellDisabled:l,onTouch:e=>{var i;if(iO(),null==d||null===(i=d.onPinClick)||void 0===i||i.call(d),eU){let i=494===e_,a=e.metaKey;if(a||i)(0,z.My)(`unauth_pin_rep.click.cmd_button_pressed.${String(em)}`),e.preventDefault(),window.open(`/pin/${il}/`,"_blank").focus();else if(!eY&&eZ){let{pinImageClickHandler:i}=eZ;i({event:e,pinId:il,linkTarget:"duploClientNav",seoUrl:er.seoUrl})}}else eY||(0,z.My)("unauth_mweb_pin_rep.click",{viewType:e_})},pinCategory:er.category,pressState:"none",rounding:4,title:eM._('See this Pin', 'App Upsell Text after clicking on Pin in feed', 'App Upsell Text after clicking on Pin in feed'),to:{pathname:i5,state:{trackingParams:eu,trafficSource:ec,topLevelTrafficSource:es,topLevelTrafficSourceDepth:ed}},upsellType:"direct",viewParameter:em,viewType:e_,clientTrackingParams:aa},ap=(0,W.kb)({hasLinkDomain:!!iQ,richMetadata:i1&&{recipe:i1.recipe&&{fromAggregatedData:i1.recipe.fromAggregatedData},products:null===(ez=i1.products)||void 0===ez?void 0:ez.map(({__typename:e,...i})=>i)},richSummary:i2&&{products:i2.products}}),am=!ee&&["shop_feed"].includes(ec),ag=(0,c.useSelector)(({session:e})=>e.unauthSavePinId),a_=eY&&!!ag&&ag===il,ah=!eY||a_||k?"":ik("mweb_direct_save_from_grid_v2").group||ik("mweb_direct_save_from_grid_v2_new_user").group||"",ay=ah.includes("footer"),av=s?0:iL({isDesktop:eU});return(0,en.jsx)(q.dL,{auxData:{commerce_data:iB,pwa_type:eO,...e},component:i,impressionData:{richTypes:er.shoppingFlags||[],imageURL:iC.url||"",isPromoted:iz(er),attributionSourceId:er.attributionSourceId,link:iE(er),campaignId:er.campaignId,advertiserId:er.advertiserId,...iA?{isNativeVideoAndWatchable:!!iA&&!!iA.url&&!!iA.height&&!!iA.width||void 0,videoIdStr:iA&&(null===(eR=er.videos)||void 0===eR?void 0:eR.entityId)||void 0}:{},...el},isPaused:!e2,loggingId:er.entityId,objectIdStr:et,slotIndex:eo,trackingParams:eu,viewData:ep,viewParameter:em,viewType:e_,children:({impressionTrackerRef:e})=>{var l,s,c,m,_,h,v,f,b,P,j,I,F,T,C,D,L,R,M,Z,N,U,q,V,W,Y,$,G;return(0,en.jsx)(g.xu,{ref:e,children:(0,en.jsxs)(g.xu,{"data-test-id":"pin","data-test-pin-id":il,marginBottom:eU?0:2,position:"relative",children:[(0,en.jsxs)(g.xu,{"data-test-id":as||i4||i9?"pin-with-alt-text":"pin-missing-alt-text",padding:av,marginBottom:0,onContextMenu:eU&&(er.nativeCreator||er.pinner)?e=>{e.stopPropagation(),e.preventDefault(),eB((0,en.jsx)(iP.Z,{desktopContextMenuState:{x:e.clientX,y:e.clientY},pinId:il,graphqlRef:J})),(0,z.My)("pcons.dweb.pin_rep.context_menu.open")}:void 0,dangerouslySetInlineStyle:{__style:e7?{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"}:{}},children:[(0,en.jsxs)(O.MZ,{...ac,children:[!!iT&&(0,en.jsx)(ek,{inviteCode:iT}),ai?(0,en.jsx)(iS.Z,{isPinRep:!0}):(0,en.jsx)(id,{pinGraphqlRef:J,clientTrackingParams:aa,color:null!==(l=er.dominantColor)&&void 0!==l?l:"",description:i9&&(!ar||0===em)?i9.trim():void 0,domainLinkData:er.domain&&er.link?{clickLoggingOptions:{auxData:{objectId:il,grid_index:eo,sanitized_url:er.link}},domain:er.domain,link:er.link,onClick:null==d?void 0:d.onPinLinkClick}:void 0,disableRounding:t,image:iC&&{dominant_color:null!==(s=iC.dominantColor)&&void 0!==s?s:void 0,height:null!==(c=iC.height)&&void 0!==c?c:void 0,url:null!==(m=iC.url)&&void 0!==m?m:void 0,width:null!==(_=iC.width)&&void 0!==_?_:void 0},imageAltText:as,imageCrop:!p&&er.imageCrop&&"number"==typeof er.imageCrop.minY&&"number"==typeof er.imageCrop.maxY?{minY:er.imageCrop.minY,maxY:er.imageCrop.maxY}:void 0,isBoardIdeas:3173===em||13184===i,isSquarePin:p,lazyLoadImage:y,onError:()=>e3(!1),oneTapSave:k,onLoad:()=>e3(!0),priorityFetchImage:Q,disableDefaultContextMenu:()=>e6(!0),pinId:il,pinnedToBoardId:null!==(h=null===(v=er.pinnedToBoard)||void 0===v?void 0:v.entityId)&&void 0!==h?h:"",productPrice:"product"===iI&&ee&&!al?iZ(er):null,slotIndex:eo,storyDataExists:!!i6,title:ar&&0!==em?void 0:i4,type:iI,videoDuration:iM(er),viewParameter:em,viewType:e_,directSaveExpGroup:ah,isPromotedPin:iV,setIsLongPressEnabledForAuth:e4,setCarouselIndex:ie,carouselIndex:e9})]}),"image-only"!==ea&&(eY||eU)&&(0,en.jsxs)(g.xu,{children:[!eY&&eU&&3475!==em&&43!==em&&(0,en.jsx)(iD.ZP,{dedupeVisualAnnotations:o,pinId:il,mode:"inlineWithScrollArrows",graphqlRef:J}),!al&&(0,en.jsxs)(g.xu,{position:"relative",children:[(0,en.jsx)(O.MZ,{...ac,children:(0,en.jsx)(g.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,ref:ii})}),(0,en.jsx)(g.iP,{onTap:()=>{var e;null===(e=ii.current)||void 0===e||e.click()},accessibilityLabel:ac.accessibilityLabel,children:(0,en.jsxs)(g.xu,{display:"flex",height:p?am?104:72:void 0,marginEnd:E||1,marginStart:E||1,marginTop:ah.includes("enabled")?1:0,position:"relative",children:[(0,en.jsx)(eg,{pinGraphqlRef:J,marginTop:E,hidePinMetadata:(null==eq?void 0:eq.display_data.hideDesc)||!1,credits:iH(),hasAffiliatedProducts:!!(null!=i6&&i6.hasProductPins),isPromotedPin:iV,isSponsoredPin:!!i7,logCreditsClick:()=>{var e;return eV({view_type:3,element:27,event_type:102,object_id_str:il,component:er.storyPinDataId?230:void 0,clientTrackingParams:(0,H.Z)(eu,er.trackingParams),aux_data:{pin_id:il,...null!==(e=er.sponsorship)&&void 0!==e&&e.creator&&er.sponsorship.sponsor?{creator_id:er.sponsorship.creator.entityId,sponsor_id:er.sponsorship.sponsor.entityId}:{}}})},pinDescription:ad,pinId:il,pinnedToBoardId:null!==(f=null===(b=er.pinnedToBoard)||void 0===b?void 0:b.entityId)&&void 0!==f?f:"",pinReactionCounts:null===(P=er.reactionCountsData)||void 0===P?void 0:P.reduce((e,{reactionCount:i,reactionType:a})=>({...e,[String(null!=a?a:0)]:null!=i?i:0}),{}),recipeReview:"recipe"===iI&&!ar&&!!(null!=i2&&null!==(j=i2.aggregateRating)&&void 0!==j&&j.reviewCount)&&(0,en.jsxs)(g.xu,{alignItems:"center",display:"flex",marginTop:1,children:[(0,en.jsx)(iy,{maxRating:i2.aggregateRating.bestRating||"",rating:i2.aggregateRating.ratingValue||"",text:""}),!!i2.displayCookTime&&(0,en.jsxs)(u.Fragment,{children:[(0,en.jsx)(g.xu,{paddingX:1,children:(0,en.jsx)(g.xv,{size:"100",children:"\xb7"})}),(0,en.jsx)(g.xv,{size:"100",children:(0,B.IS)({...(0,K.u)(i2.displayCookTime),i18n:eM})})]})]}),shouldShowReactions:!n&&(0,iv.J6)({boardIsCollaborative:null===(I=er.board)||void 0===I?void 0:I.isCollaborative,isDownstreamPromotion:er.isDownstreamPromotion,isEligibleForStaticImageIdeaPin:it,isPromoted:er.isPromoted,storyPinDataId:er.storyPinDataId,videosId:null===(F=er.videos)||void 0===F?void 0:F.entityId})&&3475!==em&&606!==e_&&!(eq&&eq.display_data.hideReactions),showPriceIndicatorInPinCardDetails:am,title:i4,type:iI}),(0,en.jsxs)(g.xu,{right:!0,display:"flex",children:[!eY||at||ai||r?null:(0,en.jsx)(g.xu,{marginStart:1,marginTop:E,children:(0,en.jsx)(g.xu,{height:26,width:24,children:(0,en.jsx)(x.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,en.jsx)(A.Z,{children:(0,en.jsx)(iU,{adMatchReason:er.adMatchReason,bestPinImgSrc:ij(),feedback:ei,feedbackType:iW,getRecommendationDescription:iY,graphqlRef:J,hideSaveOption:null!==(T=er.promotedIsRemovable)&&void 0!==T&&T,imageSignature:null!=i0?i0:void 0,isAdsOnlyPin:null!==(C=er.promotedIsRemovable)&&void 0!==C&&C,pinCategory:iG,pinDescription:ad,pinId:il,pinTitle:i3,sourceType:iV?"ad":0===em?"following":void 0,viewParameter:em,viewType:e_,trackingParams:eu,isLongPressEnabledForAuth:e8,setIsLongPressEnabledForAuth:e4})})})})}),ay?(0,en.jsx)(g.xu,{right:!0,children:(0,en.jsx)(g.xu,{children:(0,en.jsx)(i_,{pinId:il,pin:er,directSaveExpGroup:ah,clientTrackingParams:aa})})}):null]})]})})]})]}),al&&(0,en.jsx)(iK,{dedupeVisualAnnotations:o,queryRef:J,description:er.description,domain:null===(D=er.richSummary)||void 0===D?void 0:D.siteName,isSquarePin:p,gridTitle:null!==(L=er.gridTitle)&&void 0!==L?L:void 0,pinId:il,priceSummary:ap&&{maxPrice:ap.maxPrice,minPrice:ap.minPrice,price:ap.price,standardPrice:ap.standardPrice},richMetadataTitle:null===(R=er.richMetadata)||void 0===R?void 0:R.title,richSummaryDisplayName:null===(M=er.richSummary)||void 0===M?void 0:M.displayName,storyPinDataId:er.storyPinDataId,storyPinDataMetadataPinTitle:null===(Z=er.storyPinData)||void 0===Z?void 0:null===(N=Z.metadata)||void 0===N?void 0:N.pinTitle,title:er.title})]}),"reported"===iq?(0,en.jsx)(im,{color:null!==(U=er.dominantColor)&&void 0!==U?U:"",getFeedbackText:()=>({title:eM._('Reported', 'message displayed after reporting a pin', 'message displayed after reporting a pin'),subTitle:eM._('Thanks! Your feedback helps us keep the Pinterest community safe.', 'message displayed after reporting a pin', 'message displayed after reporting a pin')}),pinId:il,showing:!0}):(0,en.jsx)(im,{color:null!==(q=er.dominantColor)&&void 0!==q?q:"",getFeedbackText:e=>{let i;let{promoter:a}=er;if(iz(er)&&null!=a&&a.fullName)return{title:"",subTitle:(0,S.nk)(eM._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'pinRep.promotedPinfeedbackText.subtitle', 'message displayed after hiding a promoted pin'),{promoter:a.fullName})};switch(iW){case"followed":let{board:l,pinner:n}=er;l&&n&&(i=(0,w.oK)({boardId:l.entityId,i18n:eM,makeNavigateLink:e,display:n.explicitlyFollowedByMe?{type:"board",data:{name:l.name,url:l.url}}:{type:"pinner",data:{full_name:n.fullName,username:n.username}}}));break;case"topic":let{sourceInterest:t}=er;t&&(i=(0,w.Iv)({i18n:eM,makeNavigateLink:e,sourceInterest:{id:t.entityId,name:t.name,url_name:t.urlName}}))}return i?{title:eM._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:iY(e),unfollow:i}:{title:eM._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:eM._('Got it! We\'ll try to show you more relevant Pins in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}},margin:av,onUnfollow:()=>e1({pinId:il,pinFeedbackStatus:"unfollowed"}),pinId:il,showing:!!iq,unfollowed:"unfollowed"===iq,viewParameter:em,viewType:e_}),!eU&&(null==d?void 0:d.showSeoMetadata)&&!al&&(0,en.jsx)(g.xu,{"data-test-id":"related-pins-title",children:(0,en.jsx)(g.iP,{onTap:()=>{eH({action:"click",item:"related-pins-title"})},fullWidth:!1,children:(0,en.jsx)(ib,{dedupeVisualAnnotations:o,description:er.description,gridTitle:null!==(V=er.gridTitle)&&void 0!==V?V:void 0,pinId:il,richMetadataTitle:null===(W=er.richMetadata)||void 0===W?void 0:W.title,richSummaryDisplayName:null===(Y=er.richSummary)||void 0===Y?void 0:Y.displayName,storyPinDataId:er.storyPinDataId,storyPinDataMetadataPinTitle:null===($=er.storyPinData)||void 0===$?void 0:null===(G=$.metadata)||void 0===G?void 0:G.pinTitle,title:er.title,queryRef:J})})}),a]})})}})}let iO=e=>{var i,a,l,n,t,r,o,s,d,u,c,p;let m=e=>e&&{entityId:e.id,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageSmallUrl:e.image_small_url,username:e.username},g=e=>e&&{dominantColor:e.dominant_color,height:e.height,url:e.url,width:e.width},_=e.reaction_counts;return{adMatchReason:e.ad_match_reason,adDestinationUrl:e.ad_destination_url,advertiserId:e.advertiser_id,altText:e.alt_text,attribution:e.attribution&&{embed:e.attribution.embed&&{type:e.attribution.embed.type}},attributionSourceId:e.attribution_source_id,autoAltText:e.auto_alt_text,board:e.board&&{entityId:e.board.id,followedByMe:e.board.followed_by_me,isCollaborative:e.board.is_collaborative,name:e.board.name,privacy:e.board.privacy,url:e.board.url},campaignId:e.campaign_id?String(e.campaign_id):null,category:e.category,closeupDescription:e.closeup_description,closeupUnifiedDescription:e.closeup_unified_description,debug:e.debug,descriptionHtml:e.description_html,description:e.description,domain:e.domain,dominantColor:e.dominant_color,embed:e.embed&&{height:e.embed.height,src:e.embed.src,type:e.embed.type,width:e.embed.width},entityId:e.id,gridTitle:e.grid_title,imageCrop:e.image_crop&&{minY:e.image_crop.min_y,maxY:e.image_crop.max_y},imageSignature:e.image_signature,imageSpec_136x136:g(null===(i=e.images)||void 0===i?void 0:i["136x136"]),imageSpec_170x:g(null===(a=e.images)||void 0===a?void 0:a["170x"]),imageSpec_236x:g(null===(l=e.images)||void 0===l?void 0:l["236x"]),imageSpec_474x:g(null===(n=e.images)||void 0===n?void 0:n["474x"]),imageSpec_736x:g(null===(t=e.images)||void 0===t?void 0:t["736x"]),imageSpec_orig:g(null===(r=e.images)||void 0===r?void 0:r.orig),isDownstreamPromotion:e.is_downstream_promotion,isEligibleForPdp:e.is_eligible_for_pdp,isEligibleForWebCloseup:e.is_eligible_for_web_closeup,isOosProduct:e.is_oos_product,isPromoted:e.is_promoted,isStaleProduct:e.is_stale_product,linkDomain:e.link_domain&&{officialUser:e.link_domain.official_user&&{fullName:e.link_domain.official_user.full_name,entityId:null!==(o=e.link_domain.official_user.id)&&void 0!==o?o:"",imageMediumUrl:e.link_domain.official_user.image_medium_url,imageSmallUrl:e.link_domain.official_user.image_small_url,username:e.link_domain.official_user.username,isPrimaryWebsiteVerified:e.link_domain.official_user.is_primary_website_verified}},link:e.link,mobileLink:e.mobile_link,nativeCreator:m(e.native_creator),pinnedToBoard:e.pinned_to_board&&{entityId:null!==(s=e.pinned_to_board.id)&&void 0!==s?s:""},pinJoin:e.pin_join&&{visualAnnotation:e.pin_join.visual_annotation},pinner:e.pinner&&{entityId:e.pinner.id,explicitlyFollowedByMe:e.pinner.explicitly_followed_by_me,fullName:e.pinner.full_name,imageMediumUrl:e.pinner.image_medium_url,imageSmallUrl:e.pinner.image_small_url,username:e.pinner.username},promoter:m(e.promoter),promotedIsRemovable:e.promoted_is_removable,reactionCountsData:_&&Object.keys(_).map(e=>({reactionType:Number(e),reactionCount:_[e]})),richMetadata:e.rich_metadata&&{description:e.rich_metadata.description,title:e.rich_metadata.title,article:e.rich_metadata.article&&{__typename:"ArticleMetadata"},recipe:e.rich_metadata.recipe&&{__typename:"RecipeMetadata",fromAggregatedData:e.rich_metadata.recipe.from_aggregated_data},products:e.rich_metadata.products&&e.rich_metadata.products.map(e=>{var i,a,l,n;return{__typename:"RichPinProductMetadata",name:e.name,offerSummary:{maxPrice:null===(i=e.offer_summary)||void 0===i?void 0:i.max_price,minPrice:null===(a=e.offer_summary)||void 0===a?void 0:a.min_price,price:null===(l=e.offer_summary)||void 0===l?void 0:l.price,standardPrice:null===(n=e.offer_summary)||void 0===n?void 0:n.standard_price}}})},richSummary:e.rich_summary&&{aggregateRating:e.rich_summary.aggregate_rating&&{bestRating:e.rich_summary.aggregate_rating.best_rating,ratingValue:e.rich_summary.aggregate_rating.rating_value,reviewCount:e.rich_summary.aggregate_rating.review_count},displayName:e.rich_summary.display_name,displayCookTime:e.rich_summary.display_cook_time,siteName:e.rich_summary.site_name,typeName:e.rich_summary.type_name,products:e.rich_summary.products&&e.rich_summary.products.map(e=>{var i,a,l,n;return{name:e.name,offerSummary:{maxPrice:null===(i=e.offer_summary)||void 0===i?void 0:i.max_price,minPrice:null===(a=e.offer_summary)||void 0===a?void 0:a.min_price,price:null===(l=e.offer_summary)||void 0===l?void 0:l.price,standardPrice:null===(n=e.offer_summary)||void 0===n?void 0:n.standard_price}}})},seoUrl:e.seo_url,shoppingFlags:e.shopping_flags,shouldOpenInStream:e.should_open_in_stream,sourceInterest:e.source_interest&&{entityId:null!==(d=e.source_interest.id)&&void 0!==d?d:"",name:e.source_interest.name,urlName:e.source_interest.url_name},sponsorship:e.sponsorship&&{creator:e.sponsorship.creator&&{entityId:null!==(u=e.sponsorship.creator.id)&&void 0!==u?u:"",fullName:e.sponsorship.creator.full_name,imageMediumUrl:e.sponsorship.creator.image_medium_url,imageSmallUrl:e.sponsorship.creator.image_small_url,username:e.sponsorship.creator.username},sponsor:e.sponsorship.sponsor&&{entityId:null!==(c=e.sponsorship.sponsor.id)&&void 0!==c?c:"",fullName:e.sponsorship.sponsor.full_name,imageMediumUrl:e.sponsorship.sponsor.image_medium_url,imageSmallUrl:e.sponsorship.sponsor.image_small_url,username:e.sponsorship.sponsor.username}},storyPinDataId:e.story_pin_data_id,storyPinData:e.story_pin_data&&{hasProductPins:e.story_pin_data.has_product_pins,isDeleted:e.story_pin_data.is_deleted,metadata:e.story_pin_data.metadata&&{pinTitle:e.story_pin_data.metadata.pin_title}},title:e.title,trackedLink:e.tracked_link,trackingParams:e.tracking_params,videos:e.videos&&{entityId:null!==(p=e.videos.id)&&void 0!==p?p:"",videoList:e.videos.video_list&&{v720P:e.videos.video_list.V_720P&&{duration:e.videos.video_list.V_720P.duration,height:e.videos.video_list.V_720P.height,width:e.videos.video_list.V_720P.width,url:e.videos.video_list.V_720P.url}}},recommendationReason:e.recommendation_reason&&{reason:e.recommendation_reason.reason,reasonId:e.recommendation_reason.reason_id,board:e.recommendation_reason.board&&{name:e.recommendation_reason.board.name,url:e.recommendation_reason.board.url}},carouselData:e.carousel_data&&{index:e.carousel_data.index,carouselSlots:e.carousel_data.carousel_slots?e.carousel_data.carousel_slots.map(e=>({title:e.title,details:e.details,link:e.link})):[]}}};function iq({pinId:e,duploQueryRef:i,...a}){let l=(0,E.Qy)(),{data:n,childDataKey__DEPRECATED:t}=(0,k.sr)(iA,i?{type:"graphqlRef",data:i}:{type:"deprecated",data:e},{type:"pin",useLegacyAdapter:iO});return!!n&&(0,en.jsx)(iB,{...a,debugInfo:l&&n.debug&&(0,en.jsx)(E.Wu,{data:n.debug}),pin:n,duploQueryRef:"graphqlRef"===t.type?t.data:null})}},167525:(e,i,a)=>{a.d(i,{Z:()=>o});var l=a(883119),n=a(643010),t=a(898781),r=a(785893);function o({text:e,icon:i,largeIdentifier:a,largeMargin:o}){let s=(0,t.ZP)();return(0,r.jsxs)(l.xu,{zIndex:new l.Ry(1),alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,n.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},"data-test-id":"PinTypeIdentifier",display:"flex",margin:o?4:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,paddingX:a?4:void 0,height:a?36:24,top:!0,children:[i&&(0,r.jsx)(l.xu,{marginEnd:a?2:1,children:(0,r.jsx)(l.JO,{accessibilityLabel:s._('identifier that shows the pin type', 'pin.pincard.iconAccessibilityLabel', 'shows an icon with the pin type'),color:"default",icon:i,inline:!0,size:a?18:12})}),(0,r.jsx)(l.xv,{inline:!0,size:a?"200":"100",weight:"bold",children:e})]})}},239062:(e,i,a)=>{a.r(i),a.d(i,{default:()=>y});var l,n=a(702664);a(167912);var t=a(883119),r=a(729884),o=a(916117),s=a(898781),d=a(356725),u=a(721782),c=a(447948),p=a(350118),m=a(785893);let g={cursor:"pointer",padding:"30px 16px",position:"relative",zIndex:1},_=(e,i,a,l,n,t)=>{t||void 0===l||(e.preventDefault(),e.stopPropagation(),l(i,a)),void 0!==n&&n(a)},h=void 0!==l?l:l=a(717246);function y({addEllipsis:e,alwaysShowNavigationArrows:i,carouselIndex:a,carouselData:l,ellipsisVariant:y,handleCarouselSwipe:v,isShowingLastSlide:x,pinKey:f,contextLogData:k,viewParameter:b,viewType:S,componentType:P,isEditMode:w,forwardNode:j,backNode:I,sliderStyleOverride:F,hideNavigationArrows:T}){var C,K;let D;let A=(0,s.ZP)(),L=(0,n.useDispatch)(),z=(0,p.S6)();if(null==f||"graphqlRef"===f.type)D=f;else{let e=z(f.data);D=null==e?null:{type:"deprecated",data:e}}let{data:R,childDataKey__DEPRECATED:E}=(0,o.u)(h,D,{useLegacyAdapter:e=>{var i;return{entityId:null!==(i=e.id)&&void 0!==i?i:"",isEligibleForPdp:e.is_eligible_for_pdp}}}),M=(0,u.Z)(E,"CarouselSliders"),Z=(0,r.Z)(E),N=l||Z&&{carouselSlots:Z.carouselSlots.map(({slotId:e,title:i})=>({id:e,title:i})),entityId:null!==(C=Z.carouselId)&&void 0!==C?C:"",index:Z.index};if(!N)return null;let U=(e,i)=>L((0,c.yR)(e,i)),{carouselSlots:B,index:O}=N,q=void 0!==a?a:null!=O?O:0,V=Math.max(0,q-1),H=Math.min((null!=B?B:[]).length-1,q+1),W=0===q,Y=x||q===(null!=B?B:[]).length-1,$=(e,i)=>{var a,l,n;_(e,null!==(a=null==R?void 0:R.entityId)&&void 0!==a?a:"",i,U,v,w),M({pinId:null!==(l=null==R?void 0:R.entityId)&&void 0!==l?l:"",currentIndex:q,nextIndex:i,carouselData:{carouselSlots:null==B?void 0:B.map(({id:e})=>({id:e})),entityId:N.entityId},viewParameter:b,viewType:S,componentType:P,contextLogData:k,isEditMode:w,isEligibleForPdp:null!==(n=null==R?void 0:R.isEligibleForPdp)&&void 0!==n&&n})},G=I||(0,m.jsx)(t.JO,{color:"inverse",icon:"arrow-back",accessibilityLabel:A._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image')}),Q=T?null:j||(0,m.jsx)(t.JO,{color:"inverse",icon:"arrow-forward",accessibilityLabel:A._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')});return(0,m.jsxs)(t.xu,{display:"flex",justifyContent:T?"center":"between",position:"absolute",alignItems:"center",left:!0,right:!0,bottom:!0,top:!0,children:[!T&&(0,m.jsx)("div",{"data-test-id":"carousel-slider-left",role:"presentation",onClick:e=>{$(e,V)},onKeyUp:e=>{$(e,V)},style:{...g,...F,pointerEvents:W?"none":"auto"},children:(0,m.jsx)(t.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:W&&!i?"hidden":"visible",opacity:W&&i?"50%":"100%"}},display:"flex",height:"100%",justifyContent:"center",width:"100%",children:G})}),e&&(0,m.jsx)(d.default,{pinKey:E,carouselIndex:a,carouselData:{carouselSlots:null===(K=N.carouselSlots)||void 0===K?void 0:K.map(({id:e,title:i})=>({id:e,title:i})),entityId:N.entityId,index:N.index},handleCarouselSwipe:v,variant:y||"default",viewParameter:b,viewType:S,componentType:P}),!T&&(0,m.jsx)("div",{"data-test-id":"carousel-slider-right",role:"presentation",onClick:e=>{$(e,H)},onKeyUp:e=>{$(e,H)},style:{...g,...F,pointerEvents:Y?"none":"auto"},children:(0,m.jsx)(t.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:Y&&!i?"hidden":"visible",opacity:Y&&i?"50%":"100%"}},display:"flex",height:"100%",justifyContent:"center",width:"100%",children:Q})})]})}},364034:(e,i,a)=>{a.d(i,{$:()=>o,Z:()=>u});var l=a(667294),n=a(844974);let t=e=>{if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},r=new Set,o=2,s=e=>{var i;return null!==(i=null==e?void 0:e.pins)&&void 0!==i?i:[]},d=e=>e.length?{pins:e}:null,u=()=>{let[e,i]=function(e){let i=(0,l.useCallback)(i=>{let a=a=>{a===e&&i()};return r.add(a),()=>{r.delete(a)}},[e]),a=(0,l.useSyncExternalStore)(i,()=>(0,n.qn)(e),()=>null),o=(0,l.useCallback)(i=>{null===i?(0,n.L_)(e):(0,n.Nh)(e,JSON.stringify(i)),r.forEach(i=>i(e))},[e]);return(0,l.useMemo)(()=>[t(a),o],[a,o])}("unauthSavedPins"),a=s(e),u=e=>i(d(e)),c=()=>a.length<o;return{pins:a,save:e=>{c()&&u(a.filter(({id:i})=>i!==e.id).concat([e]))},unsave:e=>u(a.filter(({id:i})=>i!==e)),isSaved:e=>a.some(({id:i})=>i===e),clear:()=>u([]),canSaveMore:c}}},468760:(e,i,a)=>{a.d(i,{f:()=>l});function l(){return"angled-pin"}},865673:(e,i,a)=>{a.d(i,{Z:()=>o});var l=a(667294),n=a(883119),t=a(512176),r=a(785893);let o=function({badgeSize:e,badgeSpacing:i,fullName:a,verifiedType:o,truncate:s=!1}){let d=a.split(" "),u=d.slice(0,d.length-1).join(" "),c=" ".concat(d[d.length-1]);return s?(0,r.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,r.jsx)(n.xv,{lineClamp:1,weight:"bold",children:a}),(0,r.jsx)(n.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:i}},paddingX:1,children:(0,r.jsx)(t.Z,{isVerifiedMerchant:"verifiedMerchant"===o,size:e,showVerifiedIdentity:"verifiedIdentity"===o})})]}):(0,r.jsxs)(l.Fragment,{children:[(0,r.jsx)("span",{children:u}),(0,r.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[c,"\xa0",(0,r.jsx)(n.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:i}},children:(0,r.jsx)(t.Z,{isVerifiedMerchant:"verifiedMerchant"===o,size:e,showVerifiedIdentity:"verifiedIdentity"===o})})]})]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/69083-0413adeb29fc8074.mjs.map